{"version":3,"sources":["webpack:///src/page/app/editApp.vue","webpack:///./src/page/app/editApp.vue?1cbd","webpack:///./src/page/app/editApp.vue","webpack:///src/page/app/addWhiteList.vue","webpack:///./src/page/app/addWhiteList.vue?d39c","webpack:///./src/page/app/addWhiteList.vue"],"names":["editApp","data","iconFile","appData","this","$route","params","app","appId","cookies","get","app_key","backTitle","$t","showWhiteListError","iconName","computed","labelCol","span","wrapperCol","wrapperCol2","offset","whiteList","$store","state","set","inject","components","addWhiteList","backSubMenu","methods","back","$router","push","name","tirggerFile","event","target","files","submitInfor","e","_this","preventDefault","whiteListString","form","validateFields","err","values","length","join","tag","formVal","avatar","callback","message_check_token","message_encryption","white_list","description","website","app_id","dispatch","then","res","$message","success","go","error","handleChange","val","addTag","$refs","addWhiteListRef","showModal","closeWhiteListTag","$nextTick","_this2","setFieldsValue","forEach","createKey","randomKey","$util","getRandomString","created","app_editApp","render","this$1","_vm","_h","$createElement","_c","_self","staticClass","attrs","lineUnder","_v","_s","autoFormCreate","on","submit","label","fieldDecoratorId","fieldDecoratorOptions","href","type","id","change","$event","rules","required","whitespace","message","disabled","mode","placeholder","autosize","validateFirst","pattern","click","_l","item","index","key","closable","close","_e","htmlType","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","visible","ip1","ip2","ip3","ip4","errorShow","extends_default","Object","vuex_esm","hideModal","getIp","ipVal","test","indexOf","app_addWhiteList","title","footer","destroyOnClose","ok","model","value","$$v","expression","directives","rawName","domProps","input","composing"],"mappings":"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","file":"static/js/5.97833400a3a1d67b4b9c.js","sourcesContent":["\n<template>\n  <div class=\"showContent appContent\">\n    <backSubMenu :backTitle=\"backTitle\" :lineUnder=\"true\"></backSubMenu>\n    <div class=\"box\">\n      <p class=\"titleLine\">{{$t('app.basicInformation')}}</p>\n      <div class=\"appForm\">\n        <a-form\n          @submit=\"submitInfor\"\n          :autoFormCreate=\"(form)=>{this.form = form}\"\n        >\n          <a-form-item\n            :label=\"$t('app.icon')\"\n            fieldDecoratorId=\"avatar\"\n            :fieldDecoratorOptions=\"{}\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n          >\n          <a href=\"javascript:;\" class=\"a-upload\">\n            <a-input type=\"file\" id=\"appIconfile\" @change=\"tirggerFile($event)\"/>Upload a photo\n          </a><span class=\"a-uploadName\">{{iconName}}</span>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.appName')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"name\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: 'please enter' }]}\"\n          >\n            <a-input disabled></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.apptag')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"tag\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-select mode=\"tags\" placeholder=\"Please enter\" @change=\"handleChange\"></a-select>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.appIntroduction')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"description\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-textarea autosize/>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.officialWebsite')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"website\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <p class=\"titleLine\" id=\"editTitle2\">{{$t('app.applicationConfiguration')}}</p>\n          <a-form-item\n            :label=\"$t('app.messageVerificationToken')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"message_check_token\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: 'please enter' }]}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.messageEncryptionKey')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"message_encryption\"\n            :fieldDecoratorOptions=\"{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter' },{pattern: /^[0-9a-zA-Z]{32}$/, message: '32位的字母数字组合'}]}\"\n            class=\"formItemKey\"\n          >\n            <a-input></a-input><span class=\"createKey\" @click=\"createKey\">随机生成</span>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.callbackURL')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"callback\"\n            :fieldDecoratorOptions=\"{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter'},{type:'url', message: 'form error'}]}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.whiteList')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"white_list\"\n            :fieldDecoratorOptions=\"{}\"\n            class=\"whiteFormItem\"\n          >\n            <div class=\"whiteListStyle\">\n              <a-tag closable  @close=\"closeWhiteListTag(item)\" v-for=\"(item,index) in whiteList\" :key=\"item\">{{item}}</a-tag>\n              <span @click=\"addTag\">\n                <i class=\"iconfont amd-add\"></i>\n              </span>\n              <p v-if=\"showWhiteListError\">please add</p>\n            </div>\n          </a-form-item>\n          <a-form-item class=\"formCenter\">\n            <a-button type=\"primary\" htmlType=\"submit\">Submit</a-button>\n          </a-form-item>\n        </a-form>\n      </div>\n    </div>\n    <addWhiteList ref=\"addWhiteListRef\"></addWhiteList>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nimport addWhiteList from \"@/page/app/addWhiteList\";\nimport backSubMenu from \"@/components/backSubMenu\"\n\nexport default {\n  data() {\n    return {\n      iconFile: \"\",\n      appData: this.$route.params.app,\n      appId: Cookies.get(\"appId\"),\n      app_key: Cookies.get(\"appKey\"),\n      backTitle:this.$t('app.editApp'),\n      showWhiteListError: false,\n      iconName:'',\n    };\n  },\n  computed: {\n    labelCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 4 } : { span: 6 };\n    },\n    wrapperCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 20 } : { span: 18 };\n    },\n    wrapperCol2() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\"\n        ? { span: 20, offset: 4 }\n        : { span: 18, offset: 6 };\n    },\n    whiteList: {\n      get(){\n        return this.$store.state.whiteList;\n      },\n      set(){\n        // this.$store.state.whiteList=[]\n      }\n    }\n  },\n  inject: [\"reload\"],\n  components: {\n    addWhiteList,\n    backSubMenu,\n  },\n  methods: {\n    back() {\n      this.$router.push({ name: \"applist\" });\n    },\n    tirggerFile(event) {\n      this.iconFile = event.target.files;\n      this.iconName = this.iconFile[0].name;\n      console.log(this.iconFile);\n    },\n    submitInfor(e) {\n      e.preventDefault();\n      let _that = this;\n      let whiteListString=\"\";  \n      this.form.validateFields((err, values) => {\n        if (this.whiteList.length>=1) {    //白名单不为空 处理为字符串\n            whiteListString = this.whiteList.join(\";\");\n        } else {\n            this.showWhiteListError = true;\n        }\n        if (values.tag) {    //处理app tag 为字符串\n            values.tag = values.tag.join(\";\");\n        }\n        if (!err && !this.showWhiteListError) {\n          console.log(this.whiteList);\n          let formVal = {\n            avatar: this.iconFile[0],\n            callback: values.callback,\n            message_check_token: values.message_check_token,\n            message_encryption: values.message_encryption,\n            white_list: whiteListString,\n            tag: values.tag,\n            description: values.description,\n            website: values.website,\n            app_id: this.appId,\n            app_key: this.app_key\n          };\n          console.log(formVal);\n\n          this.$store.dispatch(\"editApp\", formVal).then(\n            res => {\n              console.log(res);   \n              this.$message.success('修改成功');\n              this.$router.go(-1)\n            },\n            error => {\n              console.log(error);\n            }\n          );\n        }\n      });\n    },\n    handleChange(val) {\n      console.log(val);\n    },\n    addTag() {\n      this.showWhiteListError = false;\n      this.$refs.addWhiteListRef.showModal();\n    },\n    closeWhiteListTag(val){\n      console.log(val);\n      this.$store.dispatch(\"reduceWhiteList\", val);\n    },\n    formVal() {\n      console.log(this.appData);\n      this.$nextTick(function() {\n        this.form.setFieldsValue({\n          avatar: \"\",\n          name: this.appData.name,\n          callback: this.appData.callback,\n          message_check_token: this.appData.message_check_token,\n          message_encryption: this.appData.message_encryption,\n          white_list: this.appData.white_list,\n          tag: this.appData.tag,\n          description: this.appData.description,\n          website: this.appData.website\n        });\n        this.appData.white_list.forEach(val => {\n          this.$store.dispatch(\"addWhiteList\", val);\n        });\n        // this.defaultSelectApps=;\n      });\n    },\n     // 点击随机生成32位key值\n    createKey(){\n      let randomKey = this.$util.getRandomString(32);\n      this.form.setFieldsValue({\n        message_encryption:randomKey\n      })\n    }\n  },\n  created() {\n    if(this.appData){\n      this.formVal();\n    }else{\n      this.$router.go(-1)\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n@import \"../../css/app.less\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/app/editApp.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"showContent appContent\"},[_c('backSubMenu',{attrs:{\"backTitle\":_vm.backTitle,\"lineUnder\":true}}),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('p',{staticClass:\"titleLine\"},[_vm._v(_vm._s(_vm.$t('app.basicInformation')))]),_vm._v(\" \"),_c('div',{staticClass:\"appForm\"},[_c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.submitInfor}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('app.icon'),\"fieldDecoratorId\":\"avatar\",\"fieldDecoratorOptions\":{},\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol}},[_c('a',{staticClass:\"a-upload\",attrs:{\"href\":\"javascript:;\"}},[_c('a-input',{attrs:{\"type\":\"file\",\"id\":\"appIconfile\"},on:{\"change\":function($event){return _vm.tirggerFile($event)}}}),_vm._v(\"Upload a photo\\n        \")],1),_c('span',{staticClass:\"a-uploadName\"},[_vm._v(_vm._s(_vm.iconName))])]),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.appName'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"name\",\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: 'please enter' }]}}},[_c('a-input',{attrs:{\"disabled\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.apptag'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"tag\",\"fieldDecoratorOptions\":{}}},[_c('a-select',{attrs:{\"mode\":\"tags\",\"placeholder\":\"Please enter\"},on:{\"change\":_vm.handleChange}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.appIntroduction'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"description\",\"fieldDecoratorOptions\":{}}},[_c('a-textarea',{attrs:{\"autosize\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.officialWebsite'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"website\",\"fieldDecoratorOptions\":{}}},[_c('a-input')],1),_vm._v(\" \"),_c('p',{staticClass:\"titleLine\",attrs:{\"id\":\"editTitle2\"}},[_vm._v(_vm._s(_vm.$t('app.applicationConfiguration')))]),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.messageVerificationToken'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"message_check_token\",\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: 'please enter' }]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{staticClass:\"formItemKey\",attrs:{\"label\":_vm.$t('app.messageEncryptionKey'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"message_encryption\",\"fieldDecoratorOptions\":{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter' },{pattern: /^[0-9a-zA-Z]{32}$/, message: '32位的字母数字组合'}]}}},[_c('a-input'),_c('span',{staticClass:\"createKey\",on:{\"click\":_vm.createKey}},[_vm._v(\"随机生成\")])],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.callbackURL'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"callback\",\"fieldDecoratorOptions\":{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter'},{type:'url', message: 'form error'}]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{staticClass:\"whiteFormItem\",attrs:{\"label\":_vm.$t('app.whiteList'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"white_list\",\"fieldDecoratorOptions\":{}}},[_c('div',{staticClass:\"whiteListStyle\"},[_vm._l((_vm.whiteList),function(item,index){return _c('a-tag',{key:item,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.closeWhiteListTag(item)}}},[_vm._v(_vm._s(item))])}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.addTag}},[_c('i',{staticClass:\"iconfont amd-add\"})]),_vm._v(\" \"),(_vm.showWhiteListError)?_c('p',[_vm._v(\"please add\")]):_vm._e()],2)]),_vm._v(\" \"),_c('a-form-item',{staticClass:\"formCenter\"},[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"Submit\")])],1)],1)],1)]),_vm._v(\" \"),_c('addWhiteList',{ref:\"addWhiteListRef\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19e8091a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/app/editApp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19e8091a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editApp.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editApp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editApp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19e8091a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editApp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/editApp.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <a-modal\n      title=\"Add whitelist\"\n      v-model=\"visible\"\n      @ok=\"hideModal\"\n      :footer=\"null\"\n      class=\"noformModel\"\n      :closable=\"false\"\n      :destroyOnClose=\"true\"\n    >\n      <div class=\"ipAdressCon\">\n        <div class=\"ipAdress\">\n          <input type=\"text\" v-model=\"ip1\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip2\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip3\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip4\">\n          <p v-show=\"errorShow\">请输入正确的ip</p>\n        </div>\n        <p class=\"modelBtn\">\n          <a-button type=\"primary\" @click=\"getIp\">Add</a-button>\n        </p>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      ip1: \"\",\n      ip2: \"\",\n      ip3: \"\",\n      ip4: \"\",\n      errorShow: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"whiteList\"])\n  },\n  methods: {\n    showModal() {\n      this.errorShow = false;\n      this.ip1='';\n      this.ip2='';\n      this.ip3='';\n      this.ip4='';\n      this.visible = true;\n    },\n    hideModal() {\n      this.visible = false;\n    },\n    //形成ip地址，放在cookie中\n    getIp() {\n      let ipVal = this.ip1 + \".\" + this.ip2 + \".\" + this.ip3 + \".\" + this.ip4;\n      var re = /^([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])$/;\n      if (!re.test(ipVal)) {\n        this.errorShow = true;\n      } else {\n       \n        console.log(ipVal);\n        console.log(this.whiteList);\n         console.log(this.whiteList.indexOf(ipVal));\n        if(this.whiteList.indexOf(ipVal)>-1){  //已存在\n          this.$message.error('该IP地址已存在');\n        } else{\n          this.$store.dispatch(\"addWhiteList\", ipVal);\n          this.hideModal();\n        }\n        \n      }\n\n      // Cookies.set('ipVal',ipVal);\n      // if(Cookies.get('ipVal')){\n      //   this.hideModal();\n      // }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../css/app.less\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/app/addWhiteList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{staticClass:\"noformModel\",attrs:{\"title\":\"Add whitelist\",\"footer\":null,\"closable\":false,\"destroyOnClose\":true},on:{\"ok\":_vm.hideModal},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"ipAdressCon\"},[_c('div',{staticClass:\"ipAdress\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip1),expression:\"ip1\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip1=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip2),expression:\"ip2\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip2)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip2=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip3),expression:\"ip3\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip3)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip3=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip4),expression:\"ip4\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip4)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip4=$event.target.value}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorShow),expression:\"errorShow\"}]},[_vm._v(\"请输入正确的ip\")])]),_vm._v(\" \"),_c('p',{staticClass:\"modelBtn\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getIp}},[_vm._v(\"Add\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-146a130e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/app/addWhiteList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-146a130e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addWhiteList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWhiteList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWhiteList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-146a130e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addWhiteList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/addWhiteList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
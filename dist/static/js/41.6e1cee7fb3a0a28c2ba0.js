webpackJsonp([41],{MdcM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),s=n.n(a),i=n("JSML"),o=n("NYxO"),r={data:function(){return{routekey:["fingerprintRequest","fingerprintHistory;fingerprintHistoryDetail"],loading:!1,historyKey:"app/v1/target/extraction/fingerprint",dataSource:[],columns:[{title:"Face Comparison",dataIndex:"request",align:"center",scopedSlots:{customRender:"request"}},{title:"Category",dataIndex:"response",align:"center",scopedSlots:{customRender:"response"}},{title:"Upload Time",dataIndex:"created_at",align:"center",scopedSlots:{customRender:"created_at"}},{title:"Status",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"",dataIndex:"operation",align:"center",width:"50px",scopedSlots:{customRender:"operation"}}],pagination:{pageSize:10},serviceApiId:""}},components:{requestAndHisSubMenu:i.a},computed:s()({},Object(o.b)(["apiHistoryList","listPage"])),methods:{getImage:function(t){return"http://kotadata.oss-ap-southeast-5.aliyuncs.com"+t},getTime:function(t){return this.$util.timestampToDay(t)},selectHistory:function(t){this.$store.dispatch("changePage",this.pagination.current),this.$router.push({name:"fingerprintHistoryDetail",params:{record:t}})},getLog:function(t){var e=this,n={serviceApiId:this.serviceApiId,page:t,pageSize:this.pageSize,showFullLoading:1==t};this.loading=!0,this.$store.dispatch("getLog",n).then(function(t){e.dataSource=t.data.data;var n=s()({},e.pagination);n.total=t.data.totalCount,e.loading=!1,e.pagination=n},function(t){})},getApiList:function(){var t=this;this.$store.dispatch("getApiList",{}).then(function(e){t.apiHistoryList;var n=t.apiHistoryList[t.historyKey];t.serviceApiId=n._id,t.listPage?(t.pagination.current=Number(t.listPage),t.getLog(t.listPage)):t.getLog(1)},function(t){})},handleTableChange:function(t){this.pagination.current=t.current,this.getLog(t.current)}},created:function(){this.getApiList()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"showContent"},[n("requestAndHisSubMenu",{attrs:{routekey:t.routekey}}),t._v(" "),n("a-table",{staticClass:"newTable",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(t._s(t.getTime(e)))]}},{key:"response",fn:function(e){return[n("span",[t._v(t._s(e.data.label?e.data.label:"--"))])]}},{key:"request",fn:function(e,a){return["success"==a.status?n("div",[n("div",{staticClass:"ocrImgCell"},[n("img",{attrs:{src:t.getImage(e.image_file)}})])]):n("div",[t._v("--")])]}},{key:"status",fn:function(e){return[n("span",{staticClass:"statusSpan"},[n("span",{class:"success"==e?"greenDot":"redDot"},[n("i",{staticClass:"iconfont amd-dot"})]),t._v("\n          "+t._s(e)+"\n        ")])]}},{key:"operation",fn:function(e,a,s){return["success"==a.status?n("span",{staticClass:"historyDetail",on:{click:function(e){return t.selectHistory(a)}}},[n("i",{staticClass:"iconfont amd-arrows_right"})]):t._e()]}}])})],1)},staticRenderFns:[]},u=n("VU/8")(r,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=41.6e1cee7fb3a0a28c2ba0.js.map
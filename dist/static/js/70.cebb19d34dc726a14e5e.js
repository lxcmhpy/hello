webpackJsonp([70],{"6SSo":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{visible:!1,addRoleForm:{name:"",description:""},rules:{name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},dialogTitle:"",errorOrganName:!1,handelType:0,editRoleId:""}},inject:["reload"],methods:{showModal:function(e,t){this.visible=!0,this.handelType=e,0==e?this.dialogTitle="新增角色":2==e&&(this.dialogTitle="修改角色",this.addRoleForm.name=t.name,this.addRoleForm.description=t.description,this.editRoleId=t.id)},closeDialog:function(){this.visible=!1,this.$refs.addRoleForm.resetFields()},focusOrganName:function(){this.errorOrganName=!1},blurOrganName:function(){var e=this;this.addOrganForm.name&&this.$store.dispatch("hasOrganName",this.addOrganForm.name).then(function(t){t.data.id?e.errorOrganName=!0:e.errorOrganName=!1},function(e){})},addOrEditRole:function(e){var t=this;this.$refs[e].validate(function(e){e&&!t.errorOrganName&&(t.handelType?(t.addRoleForm.id=t.editRoleId,t.$store.dispatch("editRole",t.addRoleForm).then(function(e){t.$message({type:"success",message:"修改成功"}),t.visible=!1,t.reload()},function(e){})):t.$store.dispatch("addRole",t.addRoleForm).then(function(e){t.$message({type:"success",message:"添加成功!"}),t.visible=!1,t.reload()},function(e){}))})},getOrganDetail:function(e){}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visible,"close-on-click-modal":!1,width:"35%"},on:{"update:visible":function(t){e.visible=t},close:e.closeDialog}},[o("el-form",{ref:"addRoleForm",attrs:{model:e.addRoleForm,rules:e.rules,"label-width":"80px"}},[o("div",{staticClass:"item"},[o("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[o("el-input",{model:{value:e.addRoleForm.name,callback:function(t){e.$set(e.addRoleForm,"name",t)},expression:"addRoleForm.name"}})],1)],1),e._v(" "),o("div",{staticClass:"item"},[o("el-form-item",{attrs:{label:"角色介绍",prop:"description"}},[o("el-input",{model:{value:e.addRoleForm.description,callback:function(t){e.$set(e.addRoleForm,"description",t)},expression:"addRoleForm.description"}})],1)],1)]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrEditRole("addRoleForm")}}},[e._v("确 定")])],1)],1)},staticRenderFns:[]},l=o("VU/8")(i,a,!1,null,null,null);t.default=l.exports}});
//# sourceMappingURL=70.cebb19d34dc726a14e5e.js.map
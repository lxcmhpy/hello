{"version":3,"sources":["webpack:///src/page/app/addApp.vue","webpack:///./src/page/app/addApp.vue?64f0","webpack:///./src/page/app/addApp.vue","webpack:///src/page/app/addWhiteList.vue","webpack:///./src/page/app/addWhiteList.vue?d39c","webpack:///./src/page/app/addWhiteList.vue"],"names":["addApp","data","iconFile","backTitle","this","$t","showWhiteListError","iconName","computed","labelCol","cookies","get","span","wrapperCol","wrapperCol2","offset","whiteList","$store","state","set","inject","components","addWhiteList","backSubMenu","methods","back","$router","push","name","tirggerFile","event","target","files","submitInfor","e","_this","preventDefault","whiteListString","form","validateFields","err","values","length","join","tag","formVal","avatar","callback","message_check_token","message_encryption","white_list","description","website","dispatch","then","res","reload","error","handleChange","val","addTag","$refs","addWhiteListRef","showModal","closeWhiteListTag","createKey","randomKey","$util","getRandomString","setFieldsValue","created","app_addApp","render","this$1","_vm","_h","$createElement","_c","_self","staticClass","attrs","lineUnder","_v","_s","autoFormCreate","on","submit","label","fieldDecoratorId","fieldDecoratorOptions","href","type","id","change","$event","rules","required","whitespace","message","mode","placeholder","autosize","validateFirst","pattern","click","_l","item","index","key","closable","close","_e","htmlType","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","visible","ip1","ip2","ip3","ip4","errorShow","extends_default","Object","vuex_esm","hideModal","getIp","ipVal","test","indexOf","$message","app_addWhiteList","title","footer","destroyOnClose","ok","model","value","$$v","expression","directives","rawName","domProps","input","composing"],"mappings":"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","file":"static/js/6.c63597129218ac4235ed.js","sourcesContent":["\n<template>\n  <div class=\"showContent appContent\">\n    <backSubMenu :backTitle=\"backTitle\" :lineUnder=\"true\"></backSubMenu>\n    <div class=\"box\">\n      <p class=\"titleLine\">{{$t('app.basicInformation')}}</p>\n      <div class=\"appForm\">\n        <a-form @submit=\"submitInfor\" :autoFormCreate=\"(form)=>{this.form = form}\">\n          <a-form-item\n            :label=\"$t('app.icon')\"\n            fieldDecoratorId=\"avatar\"\n            :fieldDecoratorOptions=\"{}\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n          >\n            <a href=\"javascript:;\" class=\"a-upload\">\n              <a-input type=\"file\" id=\"appIconfile\" @change=\"tirggerFile($event)\"/>Upload a photo\n            </a>\n            <span class=\"a-uploadName\">{{iconName}}</span>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.appName')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"name\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: 'please enter' }]}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.apptag')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"tag\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-select mode=\"tags\" placeholder=\"Please enter\" @change=\"handleChange\"></a-select>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.appIntroduction')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"description\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-textarea autosize/>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.officialWebsite')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"website\"\n            :fieldDecoratorOptions=\"{}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <p class=\"titleLine\" id=\"editTitle2\">{{$t('app.applicationConfiguration')}}</p>\n          <a-form-item\n            :label=\"$t('app.messageVerificationToken')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"message_check_token\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: 'please enter' }]}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.messageEncryptionKey')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"message_encryption\"\n            :fieldDecoratorOptions=\"{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter' },{pattern: /^[0-9a-zA-Z]{32}$/, message: '32位的字母数字组合'}]}\"\n            class=\"formItemKey\"\n          >\n            <a-input></a-input><span class=\"createKey\" @click=\"createKey\">点击生成</span>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.callbackURL')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"callback\"\n            :fieldDecoratorOptions=\"{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter'},{type:'url', message: 'form error'}]}\"\n          >\n            <a-input></a-input>\n          </a-form-item>\n          <a-form-item\n            :label=\"$t('app.whiteList')\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"white_list\"\n            :fieldDecoratorOptions=\"{}\"\n            class=\"whiteFormItem\"\n          >\n            <div class=\"whiteListStyle\">\n              <a-tag\n                :key=\"item\"\n                closable\n                @close=\"closeWhiteListTag(item)\"\n                v-for=\"(item,index) in whiteList\"\n              >{{item}}</a-tag>\n              <span @click=\"addTag\">\n                <i class=\"iconfont amd-add\"></i>\n              </span>\n              <p v-if=\"showWhiteListError\">please add</p>\n            </div>\n          </a-form-item>\n          <a-form-item class=\"formCenter\">\n            <a-button type=\"primary\" htmlType=\"submit\">Submit</a-button>\n          </a-form-item>\n        </a-form>\n      </div>\n    </div>\n    <addWhiteList ref=\"addWhiteListRef\"></addWhiteList>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nimport addWhiteList from \"@/page/app/addWhiteList\";\nimport backSubMenu from \"@/components/backSubMenu\";\n\nexport default {\n  data() {\n    return {\n      iconFile: \"\",\n      backTitle: this.$t('app.createApp'),\n      showWhiteListError: false,\n      iconName:'',\n    };\n  },\n  computed: {\n    labelCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 4 } : { span: 6 };\n    },\n    wrapperCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 20 } : { span: 18 };\n    },\n    wrapperCol2() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\"\n        ? { span: 20, offset: 4 }\n        : { span: 18, offset: 6 };\n    },\n    whiteList: {\n      get() {\n        return this.$store.state.whiteList;\n      },\n      set() {\n        // this.$store.state.whiteList=[]\n      }\n    }\n  },\n  inject: [\"reload\"],\n  components: {\n    addWhiteList,\n    backSubMenu\n  },\n  methods: {\n    back() {\n      this.$router.push({ name: \"applist\" });\n    },\n    tirggerFile(event) {\n      this.iconFile = event.target.files;\n      this.iconName = this.iconFile[0].name;\n      console.log(this.iconFile);\n    },\n    submitInfor(e) {\n      e.preventDefault();\n      let _that = this;\n      let whiteListString = \"\";\n      this.form.validateFields((err, values) => {\n        console.log(this.whiteList);\n        if (this.whiteList.length >= 1) {\n          whiteListString = this.whiteList.join(\";\");\n        } else {\n          this.showWhiteListError = true;\n        }\n        if (!err) {\n          console.log(this.whiteList);\n          if (values.tag) {\n            values.tag = values.tag.join(\";\");\n          }\n          // if (this.whiteList) {\n          //   this.whiteList = this.whiteList.join(\";\");\n          // } else {\n          //   this.showWhiteListError = true;\n          // }\n          if (!this.showWhiteListError) {\n            console.log(whiteListString);\n            let formVal = {\n              avatar: this.iconFile[0],\n              name: values.name,\n              callback: values.callback,\n              message_check_token: values.message_check_token,\n              message_encryption: values.message_encryption,\n              white_list: whiteListString,\n              tag: values.tag,\n              description: values.description,\n              website: values.website\n            };\n            console.log(formVal);\n\n            this.$store.dispatch(\"addApp\", formVal).then(\n              res => {\n                console.log(res);\n                this.reload();\n              },\n              error => {\n                console.log(error);\n              }\n            );\n          }\n        }\n      });\n    },\n    handleChange(val) {\n      console.log(val);\n    },\n    addTag() {\n      this.showWhiteListError = false;\n      this.$refs.addWhiteListRef.showModal();\n    },\n    closeWhiteListTag(val) {\n      console.log(val);\n      this.$store.dispatch(\"reduceWhiteList\", val);\n    },\n    // 点击随机生成32位key值\n    createKey(){\n      let randomKey = this.$util.getRandomString(32);\n      this.form.setFieldsValue({\n        message_encryption:randomKey\n      })\n    }\n  },\n  created() {}\n};\n</script>\n<style lang=\"less\">\n@import \"../../css/app.less\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/app/addApp.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"showContent appContent\"},[_c('backSubMenu',{attrs:{\"backTitle\":_vm.backTitle,\"lineUnder\":true}}),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('p',{staticClass:\"titleLine\"},[_vm._v(_vm._s(_vm.$t('app.basicInformation')))]),_vm._v(\" \"),_c('div',{staticClass:\"appForm\"},[_c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form}},on:{\"submit\":_vm.submitInfor}},[_c('a-form-item',{attrs:{\"label\":_vm.$t('app.icon'),\"fieldDecoratorId\":\"avatar\",\"fieldDecoratorOptions\":{},\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol}},[_c('a',{staticClass:\"a-upload\",attrs:{\"href\":\"javascript:;\"}},[_c('a-input',{attrs:{\"type\":\"file\",\"id\":\"appIconfile\"},on:{\"change\":function($event){return _vm.tirggerFile($event)}}}),_vm._v(\"Upload a photo\\n          \")],1),_vm._v(\" \"),_c('span',{staticClass:\"a-uploadName\"},[_vm._v(_vm._s(_vm.iconName))])]),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.appName'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"name\",\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: 'please enter' }]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.apptag'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"tag\",\"fieldDecoratorOptions\":{}}},[_c('a-select',{attrs:{\"mode\":\"tags\",\"placeholder\":\"Please enter\"},on:{\"change\":_vm.handleChange}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.appIntroduction'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"description\",\"fieldDecoratorOptions\":{}}},[_c('a-textarea',{attrs:{\"autosize\":\"\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.officialWebsite'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"website\",\"fieldDecoratorOptions\":{}}},[_c('a-input')],1),_vm._v(\" \"),_c('p',{staticClass:\"titleLine\",attrs:{\"id\":\"editTitle2\"}},[_vm._v(_vm._s(_vm.$t('app.applicationConfiguration')))]),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.messageVerificationToken'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"message_check_token\",\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: 'please enter' }]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{staticClass:\"formItemKey\",attrs:{\"label\":_vm.$t('app.messageEncryptionKey'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"message_encryption\",\"fieldDecoratorOptions\":{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter' },{pattern: /^[0-9a-zA-Z]{32}$/, message: '32位的字母数字组合'}]}}},[_c('a-input'),_c('span',{staticClass:\"createKey\",on:{\"click\":_vm.createKey}},[_vm._v(\"点击生成\")])],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":_vm.$t('app.callbackURL'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"callback\",\"fieldDecoratorOptions\":{validateFirst:true,rules: [{ required: true,whitespace:true, message: 'please enter'},{type:'url', message: 'form error'}]}}},[_c('a-input')],1),_vm._v(\" \"),_c('a-form-item',{staticClass:\"whiteFormItem\",attrs:{\"label\":_vm.$t('app.whiteList'),\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"white_list\",\"fieldDecoratorOptions\":{}}},[_c('div',{staticClass:\"whiteListStyle\"},[_vm._l((_vm.whiteList),function(item,index){return _c('a-tag',{key:item,attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.closeWhiteListTag(item)}}},[_vm._v(_vm._s(item))])}),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.addTag}},[_c('i',{staticClass:\"iconfont amd-add\"})]),_vm._v(\" \"),(_vm.showWhiteListError)?_c('p',[_vm._v(\"please add\")]):_vm._e()],2)]),_vm._v(\" \"),_c('a-form-item',{staticClass:\"formCenter\"},[_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"Submit\")])],1)],1)],1)]),_vm._v(\" \"),_c('addWhiteList',{ref:\"addWhiteListRef\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-062135bd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/app/addApp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-062135bd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addApp.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addApp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addApp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-062135bd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addApp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/addApp.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <a-modal\n      title=\"Add whitelist\"\n      v-model=\"visible\"\n      @ok=\"hideModal\"\n      :footer=\"null\"\n      class=\"noformModel\"\n      :closable=\"false\"\n      :destroyOnClose=\"true\"\n    >\n      <div class=\"ipAdressCon\">\n        <div class=\"ipAdress\">\n          <input type=\"text\" v-model=\"ip1\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip2\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip3\">\n          <span>.</span>\n          <input type=\"text\" v-model=\"ip4\">\n          <p v-show=\"errorShow\">请输入正确的ip</p>\n        </div>\n        <p class=\"modelBtn\">\n          <a-button type=\"primary\" @click=\"getIp\">Add</a-button>\n        </p>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      ip1: \"\",\n      ip2: \"\",\n      ip3: \"\",\n      ip4: \"\",\n      errorShow: false\n    };\n  },\n  computed: {\n    ...mapGetters([\"whiteList\"])\n  },\n  methods: {\n    showModal() {\n      this.errorShow = false;\n      this.ip1='';\n      this.ip2='';\n      this.ip3='';\n      this.ip4='';\n      this.visible = true;\n    },\n    hideModal() {\n      this.visible = false;\n    },\n    //形成ip地址，放在cookie中\n    getIp() {\n      let ipVal = this.ip1 + \".\" + this.ip2 + \".\" + this.ip3 + \".\" + this.ip4;\n      var re = /^([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])$/;\n      if (!re.test(ipVal)) {\n        this.errorShow = true;\n      } else {\n       \n        console.log(ipVal);\n        console.log(this.whiteList);\n         console.log(this.whiteList.indexOf(ipVal));\n        if(this.whiteList.indexOf(ipVal)>-1){  //已存在\n          this.$message.error('该IP地址已存在');\n        } else{\n          this.$store.dispatch(\"addWhiteList\", ipVal);\n          this.hideModal();\n        }\n        \n      }\n\n      // Cookies.set('ipVal',ipVal);\n      // if(Cookies.get('ipVal')){\n      //   this.hideModal();\n      // }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../css/app.less\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/app/addWhiteList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{staticClass:\"noformModel\",attrs:{\"title\":\"Add whitelist\",\"footer\":null,\"closable\":false,\"destroyOnClose\":true},on:{\"ok\":_vm.hideModal},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"ipAdressCon\"},[_c('div',{staticClass:\"ipAdress\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip1),expression:\"ip1\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip1=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip2),expression:\"ip2\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip2)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip2=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip3),expression:\"ip3\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip3)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip3=$event.target.value}}}),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ip4),expression:\"ip4\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.ip4)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ip4=$event.target.value}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorShow),expression:\"errorShow\"}]},[_vm._v(\"请输入正确的ip\")])]),_vm._v(\" \"),_c('p',{staticClass:\"modelBtn\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getIp}},[_vm._v(\"Add\")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-146a130e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/app/addWhiteList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-146a130e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addWhiteList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWhiteList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addWhiteList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-146a130e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addWhiteList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/addWhiteList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
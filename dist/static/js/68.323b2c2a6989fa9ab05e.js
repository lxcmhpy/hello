webpackJsonp([68],{KB63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{visible:!1,organData:[],defaultProps:{children:"children",label:"label"},roleId:""}},methods:{showModal:function(e){this.visible=!0,this.roleId=e},closeDialog:function(){this.visible=!1},getOrgan:function(){var e=this;this.$store.dispatch("getAllOrgan").then(function(t){e.organData=t.data,e.getRoleBindOrgan()},function(e){})},getRoleBindOrgan:function(){var e=this;this.$store.dispatch("getRoleBindOrgan",this.roleId).then(function(t){var n=[];t.data.forEach(function(e){n.push(e.organId)}),e.$refs.organTree.setCheckedKeys(n)},function(e){})},bindOrganSure:function(){var e=this;this.$refs.organTree.getCheckedKeys();var t={roleId:this.roleId,organIds:this.$refs.organTree.getCheckedKeys()};this.$store.dispatch("roleBindOrgan",t).then(function(t){e.visible=!1,e.$message({type:"success",message:"绑定成功"})},function(e){})},openDialog:function(){this.getOrgan()}},created:function(){}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"绑定机构",visible:e.visible,"close-on-click-modal":!1,width:"35%",top:"30px"},on:{"update:visible":function(t){e.visible=t},close:e.closeDialog,open:e.openDialog}},[n("div",[n("el-tree",{ref:"organTree",attrs:{data:e.organData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.bindOrganSure()}}},[e._v("确 定")])],1)])},staticRenderFns:[]},r=n("VU/8")(i,o,!1,null,null,null);t.default=r.exports}});
//# sourceMappingURL=68.323b2c2a6989fa9ab05e.js.map
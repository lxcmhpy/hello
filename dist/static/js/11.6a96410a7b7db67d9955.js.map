{"version":3,"sources":["webpack:///src/page/setting/editPassword.vue","webpack:///./src/page/setting/editPassword.vue?e648","webpack:///./src/page/setting/editPassword.vue","webpack:///src/page/setting/editUser.vue","webpack:///./src/page/setting/editUser.vue?5e9a","webpack:///./src/page/setting/editUser.vue","webpack:///src/page/setting/personInfor.vue","webpack:///./src/page/setting/personInfor.vue?dcb5","webpack:///./src/page/setting/personInfor.vue"],"names":["editPassword","data","visible","formItemLayout","labelCol","span","wrapperCol","errorOldPassword","computed","cookies","get","wrapperCol2","offset","passwordwrapperCol","components","inject","methods","showModal","this","hideModal","compareToFirstPassword","rule","value","callback","form","getFieldValue","submitInfor","_this","validateFields","err","values","$store","dispatch","then","res","reload","$message","success","error","code","setting_editPassword","render","this$1","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","footer","closable","destroyOnClose","on","ok","model","$$v","expression","autoFormCreate","hideRequiredMark","submit","label","fieldDecoratorId","fieldDecoratorOptions","rules","required","whitespace","message","$t","min","type","_v","_e","validator","htmlType","staticRenderFns","page_setting_editPassword","__webpack_require__","normalizeComponent","ssrContext","editUser","noFile","errorFile","extends_default","Object","vuex_esm","uploadImage","changeUser","fileObj","$refs","getImageFile","fileImage","errImg","set","imgIp","icon","setting_editUser","ref","showNum","click","page_setting_editUser","editUser_normalizeComponent","personInfor","user","fullImgSrc","getUserInfo","created","setting_personInfor","_m","_s","username","size","src","key","status","$util","getFormatDate1","created_at","personInfor_Component","personInfor_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/11.6a96410a7b7db67d9955.js","sourcesContent":["<template>\n  <div>\n    <a-modal\n      title=\"Change Password\"\n      v-model=\"visible\"\n      @ok=\"hideModal\"\n      :footer=\"null\"\n      class=\"formModel\"\n      :closable=\"false\"\n      :destroyOnClose=\"true\"\n    >\n      <div class=\"personPasswordForm\">\n        <a-form\n          @submit=\"submitInfor\"\n          :autoFormCreate=\"(form)=>{this.form = form}\"\n          :hideRequiredMark=\"true\"\n        >\n          <a-form-item\n            label=\"Old password\"\n            fieldDecoratorId=\"old_password\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: this.$t('common.pleaseEnter') },{min:6,message: this.$t('verification.minLen6')}]}\"\n          >\n            <a-input type=\"password\"/>\n          </a-form-item>\n          <a-form-item\n          :wrapperCol=\"passwordwrapperCol\"\n          v-if=\"errorOldPassword\"\n          class=\"errorFormItemTip\"\n        >\n          <p>原密码错误</p>\n        </a-form-item>\n          <a-form-item\n            label=\"New password\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"new_password\"\n            :fieldDecoratorOptions=\"{rules: [{ required: true,whitespace:true, message: this.$t('common.pleaseEnter') },{min:6,message: this.$t('verification.minLen6')}]}\"\n          >\n            <a-input type=\"password\"></a-input>\n          </a-form-item>\n          <a-form-item\n            label=\"Confirm password\"\n            :labelCol=\"labelCol\"\n            :wrapperCol=\"wrapperCol\"\n            fieldDecoratorId=\"confirm\"\n            :fieldDecoratorOptions=\"{rules: [{\n              required: true, message: 'Please confirm your password!',},{\n              validator: this.compareToFirstPassword,\n            }]}\"\n          >\n            <a-input type=\"password\"></a-input>\n          </a-form-item>\n          <a-form-item class=\"formCenter\">\n            <a-button type=\"primary\" htmlType=\"submit\" class=\"mainBtn\">Change Password</a-button>\n          </a-form-item>\n        </a-form>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      formItemLayout: {\n        labelCol: { span: 7 },\n        wrapperCol: { span: 17 }\n      },\n      errorOldPassword:false,\n    };\n  },\n  computed: {\n    labelCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 2 } : { span: 7 };\n    },\n    wrapperCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\" ? { span: 22 } : { span: 17 };\n    },\n    wrapperCol2() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\"\n        ? { span: 20, offset: 4 }\n        : { span: 18, offset: 6 };\n    },\n    passwordwrapperCol() {\n      return Cookies.get(\"play_lang\") == \"zh-CN\"\n        ? { span: 20, offset: 4 }\n        : { span: 17, offset: 7 };\n    }\n  },\n  components: {},\n  inject: [\"reload\"],\n  methods: {\n    showModal() {\n      this.visible = true;\n    },\n    hideModal() {\n      this.visible = false;\n    },\n    // 确认密码验证\n    compareToFirstPassword(rule, value, callback) {\n      const form = this.form;\n      if (value && value !== form.getFieldValue(\"new_password\")) {\n        callback('密码不一致');\n      } else {\n        callback();\n      }\n    },\n    //修改密码\n    submitInfor() {\n      this.form.validateFields((err, values) => {\n        if (!err) {\n            console.log(values);\n          this.$store.dispatch(\"editPassword\", values).then(\n            res => {\n              console.log(res);\n              this.reload();  \n              this.$message.success('修改成功');\n            },\n            error => {\n              console.log(error);\n              if(error.code==400){\n                console.log(400);\n                this.errorOldPassword=true;  //原密码错误\n              }\n            }\n          );\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../css/app.less\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/setting/editPassword.vue","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{staticClass:\"formModel\",attrs:{\"title\":\"Change Password\",\"footer\":null,\"closable\":false,\"destroyOnClose\":true},on:{\"ok\":_vm.hideModal},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"personPasswordForm\"},[_c('a-form',{attrs:{\"autoFormCreate\":function (form){this$1.form = form},\"hideRequiredMark\":true},on:{\"submit\":_vm.submitInfor}},[_c('a-form-item',{attrs:{\"label\":\"Old password\",\"fieldDecoratorId\":\"old_password\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: this.$t('common.pleaseEnter') },{min:6,message: this.$t('verification.minLen6')}]}}},[_c('a-input',{attrs:{\"type\":\"password\"}})],1),_vm._v(\" \"),(_vm.errorOldPassword)?_c('a-form-item',{staticClass:\"errorFormItemTip\",attrs:{\"wrapperCol\":_vm.passwordwrapperCol}},[_c('p',[_vm._v(\"原密码错误\")])]):_vm._e(),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"New password\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"new_password\",\"fieldDecoratorOptions\":{rules: [{ required: true,whitespace:true, message: this.$t('common.pleaseEnter') },{min:6,message: this.$t('verification.minLen6')}]}}},[_c('a-input',{attrs:{\"type\":\"password\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"Confirm password\",\"labelCol\":_vm.labelCol,\"wrapperCol\":_vm.wrapperCol,\"fieldDecoratorId\":\"confirm\",\"fieldDecoratorOptions\":{rules: [{\n            required: true, message: 'Please confirm your password!',},{\n            validator: this.compareToFirstPassword,\n          }]}}},[_c('a-input',{attrs:{\"type\":\"password\"}})],1),_vm._v(\" \"),_c('a-form-item',{staticClass:\"formCenter\"},[_c('a-button',{staticClass:\"mainBtn\",attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"}},[_vm._v(\"Change Password\")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e62a8b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/setting/editPassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e62a8b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editPassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editPassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editPassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e62a8b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editPassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/setting/editPassword.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <a-modal\n      title=\"Modify avatar\"\n      v-model=\"visible\"\n      @ok=\"hideModal\"\n      :footer=\"null\"\n      class=\"noformModel\"\n      :closable=\"false\"\n      :destroyOnClose=\"true\"\n    >\n      <div class=\"userAvatar\">\n        <uploadImage ref=\"uploadImage\" :showNum=\"1\"></uploadImage>\n        <p v-if=\"noFile\">please upload</p>\n        <p v-if=\"errorFile\">upload fomat error</p>\n        <p class=\"modelBtn\">\n          <a-button type=\"primary\" @click=\"changeUser\">Confirm</a-button>\n        </p>\n      </div>\n    </a-modal>\n  </div>\n</template>\n<script>\nimport Cookies from \"@/js/cookies\";\nimport uploadImage from \"@/components/uploadImage/uploadImage\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      visible: false,\n      noFile: false,\n      errorFile:false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"imgIp\"])\n  },\n  components: {\n    uploadImage\n  },\n  inject: [\"reload\"],\n  methods: {\n    showModal() {\n      this.visible = true;\n    },\n    hideModal() {\n      this.visible = false;\n    },\n    changeUser() {\n      this.fileObj = this.$refs.uploadImage.getImageFile();\n      console.log(this.fileObj);\n      if (this.fileObj.fileImage) {\n        if (this.fileObj.errImg == true) {\n          this.$message.error(this.$t(\"verification.errorImg\"));\n        } else {\n         \n          this.$store.dispatch(\"changeUserInfo\", this.fileObj.fileImage).then(\n            res => {\n              console.log(res);\n              Cookies.set('avatar',this.imgIp+res.data.icon);\n              this.reload();  \n              this.$message.success('修改成功');\n            },\n            error => {\n              console.log(error);\n            }\n          );\n        }\n      } else {\n        this.$message.error(this.$t(\"main.pleaseUploadPicture\"));\n      }\n    }\n  }\n};\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/page/setting/editUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-modal',{staticClass:\"noformModel\",attrs:{\"title\":\"Modify avatar\",\"footer\":null,\"closable\":false,\"destroyOnClose\":true},on:{\"ok\":_vm.hideModal},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',{staticClass:\"userAvatar\"},[_c('uploadImage',{ref:\"uploadImage\",attrs:{\"showNum\":1}}),_vm._v(\" \"),(_vm.noFile)?_c('p',[_vm._v(\"please upload\")]):_vm._e(),_vm._v(\" \"),(_vm.errorFile)?_c('p',[_vm._v(\"upload fomat error\")]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"modelBtn\"},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.changeUser}},[_vm._v(\"Confirm\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49a1445d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/setting/editUser.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49a1445d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/setting/editUser.vue\n// module id = null\n// module chunks = ","\n<template>\n  <div class=\"showContent settingContent\">\n    <div class=\"hederLink\">\n      <ul>\n        <li>\n          <span>Basic settings</span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"box\">\n      <table>\n          <tr>\n              <th>Account information</th>\n              <th>Details</th>\n              <th>Operating</th>\n          </tr>\n          <tr>\n              <td>Username</td>\n              <td>{{user.username}}</td>\n              <td></td>\n          </tr>\n          <tr>\n              <td>Password</td>\n              <td>******</td>\n              <td><span @click=\"editPassword\">Modify</span></td>\n          </tr>\n          <tr>\n              <td>Avatar</td>\n              <td><a-avatar :size=\"30\" :src=\"fullImgSrc\" /></td>\n                  \n              <td><span @click=\"editUser\">Modify</span></td>\n          </tr>\n          <tr>\n              <td>ID</td>\n              <td>{{user.key}}</td>\n              <td></td>\n          </tr>\n           <tr>\n              <td>Status</td>\n              <td>{{user.status}}</td>\n              <td></td>\n          </tr>\n           <tr>\n              <td>Create_time</td>\n              <td>{{$util.getFormatDate1(user.created_at)}}</td>\n              <td></td>\n          </tr>\n      </table>\n    </div>\n    <editPassword ref=\"editPassword\"></editPassword>\n    <editUser ref=\"editUser\"></editUser>\n  </div>\n</template>\n<script>\n\nimport Cookies from \"@/js/cookies\";\nimport editPassword from \"@/page/setting/editPassword\";\nimport editUser from \"@/page/setting/editUser\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n        user:'',\n        fullImgSrc:'',\n    };\n  },\n  computed: {\n    ...mapGetters([\"imgIp\"]),\n    // fullImgSrc(){\n    //   return this.imgIp+this.user.icon;\n    // }\n  },\n  components: {\n    editPassword,\n    editUser,\n  },\n  methods: {\n    // getUserInfo\n    getUserInfo() {\n      this.$store.dispatch(\"getUserInfo\").then(\n        res => {\n          console.log(res);\n          this.user=res.data;\n          // this.user.icon=this.imgIp+this.user.icon;\n          // this.fullImgSrc= this.imgIp+this.user.icon;\n            this.fullImgSrc=Cookies.get(\"avatar\")\n        },\n        error => {\n          console.log(error);\n        }\n      );\n    },\n    editUser(){\n        this.$refs.editUser.showModal();\n    },\n    editPassword(){\n        this.$refs.editPassword.showModal();\n    }\n  },\n  created() {\n    this.getUserInfo();\n  }\n};\n</script>\n<style lang=\"less\">\n@import \"../../css/setting.less\";\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/page/setting/personInfor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"showContent settingContent\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('table',[_vm._m(1),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Username\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.user.username))]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Password\")]),_vm._v(\" \"),_c('td',[_vm._v(\"******\")]),_vm._v(\" \"),_c('td',[_c('span',{on:{\"click\":_vm.editPassword}},[_vm._v(\"Modify\")])])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Avatar\")]),_vm._v(\" \"),_c('td',[_c('a-avatar',{attrs:{\"size\":30,\"src\":_vm.fullImgSrc}})],1),_vm._v(\" \"),_c('td',[_c('span',{on:{\"click\":_vm.editUser}},[_vm._v(\"Modify\")])])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.user.key))]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Status\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.user.status))]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"Create_time\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.$util.getFormatDate1(_vm.user.created_at)))]),_vm._v(\" \"),_c('td')])])]),_vm._v(\" \"),_c('editPassword',{ref:\"editPassword\"}),_vm._v(\" \"),_c('editUser',{ref:\"editUser\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hederLink\"},[_c('ul',[_c('li',[_c('span',[_vm._v(\"Basic settings\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"Account information\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Details\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Operating\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3881ce18\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/setting/personInfor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3881ce18\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./personInfor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personInfor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personInfor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3881ce18\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./personInfor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/setting/personInfor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
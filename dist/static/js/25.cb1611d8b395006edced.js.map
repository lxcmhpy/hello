{"version":3,"sources":["webpack:///src/page/documentExtraction/signature/signatureRequest.vue","webpack:///./src/page/documentExtraction/signature/signatureRequest.vue?a61f","webpack:///./src/page/documentExtraction/signature/signatureRequest.vue"],"names":["signatureRequest","data","routekey","formLayout","percentNum","components","requestAndHisSubMenu","uploadImage","cutImage","methods","gotoClear","this","$refs","deleteImage","document","getElementById","setAttribute","gotoResult","_this2","fileObj","getImageFile","fileImage","errImg","$message","error","$t","params","image_file","_this","$store","dispatch","then","res","getPosition","code","backData","position","length","i","itemData","parseInt","cutImageCanvas","showCutImage","mounted","signature_signatureRequest","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","showNum","on","click","type","htmlType","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8IA6BAA,GACAC,KADA,WAEA,OACAC,UAAA,8DACAC,WAAA,SACAC,WAAA,IAGAC,YACAC,uBAAA,EACAC,cAAA,EACAC,WAAA,GAEAC,SACAC,UADA,WAEAC,KAAAC,MAAAL,YAAAM,YAAA,GACAC,SAAAC,eAAA,UAAAC,aAAA,yBAEAC,WALA,WAKA,IAAAC,EAAAP,KAIA,GAHAG,SAAAC,eAAA,UAAAC,aAAA,yBACAL,KAAAQ,QAAAR,KAAAC,MAAAL,YAAAa,eACAT,KAAAQ,QACAR,KAAAQ,QAAAE,UACA,MAAAV,KAAAQ,QAAAG,OACAX,KAAAY,SAAAC,MAAAb,KAAAc,GAAA,8BACA,CACAd,KAAAQ,QAAAE,UACA,IAAAK,GACAC,WAAAhB,KAAAQ,QAAAE,WAEAO,EAAAjB,KACAA,KAAAkB,OAAAC,SAAA,eAAAJ,GAAAK,KACA,SAAAC,GAEAJ,EAAAK,YAAAD,EAAA/B,OAEA,SAAAuB,GAEA,KAAAA,EAAAU,MAAAhB,EAAAK,SAAAC,MAAA,eAKAb,KAAAY,SAAAC,MAAAb,KAAAc,GAAA,8BAIAQ,YAlCA,SAkCAE,GACA,IAAAC,KACA,GAAAD,EAAAE,OAAA,EACA,QAAAC,EAAA,EAAAA,EAAAH,EAAAE,OAAAC,IAAA,CACA,IAAAC,EAAAJ,EAAAG,GAAAF,SAAAD,EAAAG,GAAAF,YAEAA,EAAAE,IACAE,SAAAD,EAAA,IACAC,SAAAD,EAAA,IACAC,SAAAD,EAAA,IAAAC,SAAAD,EAAA,IACAC,SAAAD,EAAA,IAAAC,SAAAD,EAAA,KAEAH,EAAAE,QAGAF,IAAA,UAGAzB,KAAAC,MAAA6B,eAAAC,aAAA/B,KAAAQ,QAAAE,UAAAe,KAGAO,QApEA,WAqEA7B,SAAAC,eAAA,UAAAC,aAAA,0BC/Fe4B,GADEC,OAFjB,WAA0B,IAAAC,EAAAnC,KAAaoC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,4BAAsCF,EAAA,wBAA6BG,OAAOlD,SAAA4C,EAAA5C,YAAyB4C,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,gBAA0BF,EAAA,MAAAH,EAAAO,GAAA,mBAAAP,EAAAO,GAAA,KAAAJ,EAAA,eAAmEK,IAAA,cAAAH,YAAA,aAAAC,OAAkDG,QAAA,KAAaT,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,aAAuBL,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,eAAyBL,EAAAO,GAAA,6HAAuGP,EAAAO,GAAA,KAAAJ,EAAA,OAAqDE,YAAA,iBAA2BF,EAAA,YAAiBO,IAAIC,MAAAX,EAAApC,aAAuBoC,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,YAA+CG,OAAOM,KAAA,UAAAC,SAAA,UAAqCH,IAAKC,MAAAX,EAAA7B,cAAwB6B,EAAAO,GAAA,mBAAAP,EAAAO,GAAA,KAAAJ,EAAA,WAAsDE,YAAA,SAAAC,OAA4BQ,GAAA,YAAeX,EAAA,KAAAH,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAAmDE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,YAAiBK,IAAA,oBAAqB,YAEniCO,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhE,EACA4C,GATF,EAVA,SAAAqB,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/25.cb1611d8b395006edced.js","sourcesContent":["<template>\n  <div class=\"showContent companyInfo\">\n    <requestAndHisSubMenu :routekey=\"routekey\"></requestAndHisSubMenu>\n    <div class=\"box_request\">\n      <h3>Upload photos</h3>\n      <uploadImage ref=\"uploadImage\" :showNum=\"1\" class=\"marginleft\"></uploadImage>\n      <div class=\"box_line\"></div>\n      <div\n        class=\"image_info\"\n      >Upload photos or just drag and drop face comparison picture here add 2 photos, JPG/JPEG/PNG ; 256*256 ~ 4096*4096, <2MB</div>\n      <div class=\"image_submit\">\n        <a-button @click=\"gotoClear\">Reset</a-button>\n        <a-button type=\"primary\" @click=\"gotoResult\" htmlType=\"submit\">Check</a-button>\n      </div>\n    </div>\n    <section class=\"result\" id=\"result\">\n      <p>Result</p>\n      <div class=\"box_result\">\n        <div class=\"extraction\">\n            <cutImage ref=\"cutImageCanvas\"></cutImage>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport requestAndHisSubMenu from \"@/components/requestAndHisSubMenu\";\nimport uploadImage from \"@/components/uploadImage/uploadImage\";\nimport cutImage from \"@/components/imageCanvas/cutImage\";\nexport default {\n  data() {\n    return {\n      routekey: [\"signatureRequest\", \"signatureHistory;signatureHistoryDetail\"],\n      formLayout: \"inline\",\n      percentNum: 0\n    };\n  },\n  components: {\n    requestAndHisSubMenu,\n    uploadImage,\n    cutImage\n  },\n  methods: {\n    gotoClear() {\n      this.$refs.uploadImage.deleteImage(0);\n      document.getElementById(\"result\").setAttribute(\"style\", \"display:none\");\n    },\n    gotoResult() {\n      document.getElementById(\"result\").setAttribute(\"style\", \"display:block\");\n      this.fileObj = this.$refs.uploadImage.getImageFile();\n      console.log(\"gotoResult\", this.fileObj);\n      if (this.fileObj.fileImage) {\n        if (this.fileObj.errImg == true) {\n          this.$message.error(this.$t(\"verification.errorImg\"));\n        } else {\n          console.log(\"gotoResult fileImage\", this.fileObj.fileImage);\n          let params = {\n            image_file: this.fileObj.fileImage\n          };\n          let _this = this;\n          this.$store.dispatch(\"getSignature\", params).then(\n            res => {\n              console.log(\"getSignature res\", res);\n              _this.getPosition(res.data);\n            },\n            error => {\n              console.log(\"getSignature error\", error);\n              if (error.code == 400) this.$message.error(\"检测失败\");\n            }\n          );\n        }\n      } else {\n        this.$message.error(this.$t(\"main.pleaseUploadPicture\"));\n      }\n    },\n    //定位解析\n    getPosition(backData) {\n      let position = [];\n      if (backData.length > 0) {\n        for (let i = 0; i < backData.length; i++) {\n          let itemData = backData[i].position ? backData[i].position : [];\n          console.log(\"itemData\", itemData);\n          position[i] = [\n            parseInt(itemData[0]),\n            parseInt(itemData[1]),\n            parseInt(itemData[2]) - parseInt(itemData[0]),\n            parseInt(itemData[7]) - parseInt(itemData[1])\n          ];\n          console.log(\"position[i]:\" + i + \",\", position[i]);\n        }\n      } else {\n        position = [[0, 0, 0, 0]];\n      }\n      console.log(\"position\", position);\n      this.$refs.cutImageCanvas.showCutImage(this.fileObj.fileImage, position);\n    }\n  },\n  mounted() {\n    document.getElementById(\"result\").setAttribute(\"style\", \"display:none\");\n  }\n};\n</script>\n<style lang=\"less\">\n@import \"../../../css/page.less\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/documentExtraction/signature/signatureRequest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"showContent companyInfo\"},[_c('requestAndHisSubMenu',{attrs:{\"routekey\":_vm.routekey}}),_vm._v(\" \"),_c('div',{staticClass:\"box_request\"},[_c('h3',[_vm._v(\"Upload photos\")]),_vm._v(\" \"),_c('uploadImage',{ref:\"uploadImage\",staticClass:\"marginleft\",attrs:{\"showNum\":1}}),_vm._v(\" \"),_c('div',{staticClass:\"box_line\"}),_vm._v(\" \"),_c('div',{staticClass:\"image_info\"},[_vm._v(\"Upload photos or just drag and drop face comparison picture here add 2 photos, JPG/JPEG/PNG ; 256*256 ~ 4096*4096, <2MB\")]),_vm._v(\" \"),_c('div',{staticClass:\"image_submit\"},[_c('a-button',{on:{\"click\":_vm.gotoClear}},[_vm._v(\"Reset\")]),_vm._v(\" \"),_c('a-button',{attrs:{\"type\":\"primary\",\"htmlType\":\"submit\"},on:{\"click\":_vm.gotoResult}},[_vm._v(\"Check\")])],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"result\",attrs:{\"id\":\"result\"}},[_c('p',[_vm._v(\"Result\")]),_vm._v(\" \"),_c('div',{staticClass:\"box_result\"},[_c('div',{staticClass:\"extraction\"},[_c('cutImage',{ref:\"cutImageCanvas\"})],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-367539ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/documentExtraction/signature/signatureRequest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-367539ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./signatureRequest.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signatureRequest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signatureRequest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-367539ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./signatureRequest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/documentExtraction/signature/signatureRequest.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
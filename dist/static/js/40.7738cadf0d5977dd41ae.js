webpackJsonp([40],{hfCw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("JSML"),o=a("NYxO"),r={data:function(){return{routekey:["photographRequest","photographHistory;photographHistoryDetail"],loading:!1,historyKey:"app/v1/target/extraction/header-photo",dataSource:[],columns:[{title:"Face Comparison",dataIndex:"request",align:"center",scopedSlots:{customRender:"request"}},{title:"Category",dataIndex:"response",align:"center",scopedSlots:{customRender:"response"}},{title:"Upload Time",dataIndex:"created_at",align:"center",scopedSlots:{customRender:"created_at"}},{title:"Status",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"",dataIndex:"operation",align:"center",width:"50px",scopedSlots:{customRender:"operation"}}],pagination:{pageSize:10},serviceApiId:""}},components:{requestAndHisSubMenu:i.a},computed:n()({},Object(o.b)(["apiHistoryList","listPage"])),methods:{getImage:function(t){return"http://kotadata.oss-ap-southeast-5.aliyuncs.com"+t},getTime:function(t){return this.$util.timestampToDay(t)},selectHistory:function(t){this.$store.dispatch("changePage",this.pagination.current),this.$router.push({name:"photographHistoryDetail",params:{record:t}})},getLog:function(t){var e=this,a={serviceApiId:this.serviceApiId,page:t,pageSize:this.pageSize,showFullLoading:1==t};this.loading=!0,this.$store.dispatch("getLog",a).then(function(t){e.dataSource=t.data.data;var a=n()({},e.pagination);a.total=t.data.totalCount,e.loading=!1,e.pagination=a},function(t){})},getApiList:function(){var t=this;this.$store.dispatch("getApiList",{}).then(function(e){t.apiHistoryList;var a=t.apiHistoryList[t.historyKey];t.serviceApiId=a._id,t.listPage?(t.pagination.current=Number(t.listPage),t.getLog(t.listPage)):t.getLog(1)},function(t){})},handleTableChange:function(t,e,a){this.pagination.current=t.current,this.getLog(t.current)}},created:function(){this.getApiList()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"showContent"},[a("requestAndHisSubMenu",{attrs:{routekey:t.routekey}}),t._v(" "),a("a-table",{staticClass:"newTable",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(t._s(t.getTime(e)))]}},{key:"response",fn:function(e){return[a("span",[t._v(t._s(e.data.label?e.data.label:"--"))])]}},{key:"request",fn:function(e,s){return["success"==s.status?a("div",[a("div",{staticClass:"ocrImgCell"},[a("img",{attrs:{src:t.getImage(e.image_file)}})])]):a("div",[t._v("--")])]}},{key:"status",fn:function(e){return[a("span",{staticClass:"statusSpan"},[a("span",{class:"success"==e?"greenDot":"redDot"},[a("i",{staticClass:"iconfont amd-dot"})]),t._v("\n          "+t._s(e)+"\n        ")])]}},{key:"operation",fn:function(e,s,n){return["success"==s.status?a("span",{staticClass:"historyDetail",on:{click:function(e){return t.selectHistory(s)}}},[a("i",{staticClass:"iconfont amd-arrows_right"})]):t._e()]}}])})],1)},staticRenderFns:[]},u=a("VU/8")(r,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=40.7738cadf0d5977dd41ae.js.map
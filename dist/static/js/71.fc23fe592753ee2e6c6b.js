webpackJsonp([71],{"5BWG":function(a,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t={data:function(){return{visible:!1,addOrganForm:{name:"",pidName:"",code:"",organType:"",accessToAuthority:"",organNature:"",isIndependentEnforce:"",address:"",zipCode:"",telephone:"",contactor:"",fundingSource:"",legalBasis:"",mainPowers:""},rules:{name:[{required:!0,message:"请输入机构名称",trigger:"blur"}]},parentNode:"",dialogTitle:"",organId:"",errorOrganName:!1,handelType:0,isDisabled:!1}},methods:{showModal:function(a,e){this.visible=!0,this.handelType=a,0==a?(this.dialogTitle="新增机构",this.parentNode=e,this.addOrganForm.pidName=e.parentNodeName,this.isDisabled=!1):1==a?(this.dialogTitle="机构详情",this.organId=e,this.getOrganDetail(e),this.isDisabled=!0):2==a&&(this.dialogTitle="修改机构",this.organId=e.id,this.parentNode=e.parentNode,this.getOrganDetail(e.id),this.isDisabled=!1)},closeDialog:function(){this.visible=!1,this.$refs.addOrganForm.resetFields(),this.errorOrganName=!1},focusOrganName:function(){this.errorOrganName=!1},blurOrganName:function(){var a=this;this.addOrganForm.name&&this.$store.dispatch("hasOrganName",this.addOrganForm.name).then(function(e){e.data.id?a.errorOrganName=!0:a.errorOrganName=!1},function(a){})},addOrgan:function(a){var e=this;this.$refs[a].validate(function(a){a&&!e.errorOrganName&&(e.addOrganForm.pid=e.parentNode.parentNodeId,e.addOrganForm.id=0==e.handelType?"":e.organId,e.addOrganForm,e.$store.dispatch("addOrgan",e.addOrganForm).then(function(a){e.addOrganForm.pid,e.$emit("getAllOrgan2",e.addOrganForm.pid),e.$message({type:"success",message:0==e.handelType?"添加成功!":"修改成功"}),e.visible=!1},function(a){}))})},getOrganDetail:function(a){var e=this,r={id:a};this.$store.dispatch("getOrganDetail",r).then(function(a){e.addOrganForm=a.data},function(a){})}}},o={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("el-dialog",{attrs:{title:a.dialogTitle,"custom-class":"leftDialog",visible:a.visible,top:"0",width:"45%","close-on-click-modal":!1},on:{"update:visible":function(e){a.visible=e},close:a.closeDialog}},[r("el-form",{ref:"addOrganForm",staticClass:"addOrganClass",attrs:{model:a.addOrganForm,rules:a.rules,"label-width":"100px",disabled:a.isDisabled}},[r("div",{staticClass:"part"},[r("p",{staticClass:"titleP"},[a._v("基本信息")]),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构名称",prop:"name"}},[r("el-input",{on:{focus:a.focusOrganName,blur:a.blurOrganName},model:{value:a.addOrganForm.name,callback:function(e){a.$set(a.addOrganForm,"name",e)},expression:"addOrganForm.name"}})],1),a._v(" "),a.errorOrganName?r("span",{staticClass:"errorInput"},[a._v("该机构名称已存在")]):a._e()],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"上级机构",prop:"pidName"}},[r("el-input",{model:{value:a.addOrganForm.pidName,callback:function(e){a.$set(a.addOrganForm,"pidName",e)},expression:"addOrganForm.pidName"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构编码",prop:"code"}},[r("el-input",{model:{value:a.addOrganForm.code,callback:function(e){a.$set(a.addOrganForm,"code",e)},expression:"addOrganForm.code"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构类型",prop:"organType"}},[r("el-select",{attrs:{placeholder:""},model:{value:a.addOrganForm.organType,callback:function(e){a.$set(a.addOrganForm,"organType",e)},expression:"addOrganForm.organType"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"职权取得方式",prop:"accessToAuthority"}},[r("el-select",{attrs:{placeholder:""},model:{value:a.addOrganForm.accessToAuthority,callback:function(e){a.$set(a.addOrganForm,"accessToAuthority",e)},expression:"addOrganForm.accessToAuthority"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构性质",prop:"organNature"}},[r("el-select",{attrs:{placeholder:""},model:{value:a.addOrganForm.organNature,callback:function(e){a.$set(a.addOrganForm,"organNature",e)},expression:"addOrganForm.organNature"}})],1)],1),a._v(" "),r("div",[r("el-form-item",{attrs:{label:"是否具有独立执法资格","label-width":"160px",prop:"isIndependentEnforce"}},[r("el-radio-group",{model:{value:a.addOrganForm.isIndependentEnforce,callback:function(e){a.$set(a.addOrganForm,"isIndependentEnforce",e)},expression:"addOrganForm.isIndependentEnforce"}},[r("el-radio",{attrs:{label:"是"}}),a._v(" "),r("el-radio",{attrs:{label:"否"}})],1)],1)],1)]),a._v(" "),r("div",{staticClass:"part"},[r("p",{staticClass:"titleP"},[a._v("机构详情")]),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构地址",prop:"address"}},[r("el-input",{model:{value:a.addOrganForm.address,callback:function(e){a.$set(a.addOrganForm,"address",e)},expression:"addOrganForm.address"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"机构邮编",prop:"zipCode"}},[r("el-input",{model:{value:a.addOrganForm.zipCode,callback:function(e){a.$set(a.addOrganForm,"zipCode",e)},expression:"addOrganForm.zipCode"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"联系电话",prop:"telephone"}},[r("el-input",{model:{value:a.addOrganForm.telephone,callback:function(e){a.$set(a.addOrganForm,"telephone",e)},expression:"addOrganForm.telephone"}})],1)],1),a._v(" "),r("div",{staticClass:"item"},[r("el-form-item",{attrs:{label:"联系人",prop:"contactor"}},[r("el-input",{model:{value:a.addOrganForm.contactor,callback:function(e){a.$set(a.addOrganForm,"contactor",e)},expression:"addOrganForm.contactor"}})],1)],1)]),a._v(" "),r("div",{staticClass:"part"},[r("p",{staticClass:"titleP"},[a._v("三定要求")]),a._v(" "),r("div",[r("el-form-item",{attrs:{label:"资金来源",prop:"fundingSource"}},[r("el-input",{model:{value:a.addOrganForm.fundingSource,callback:function(e){a.$set(a.addOrganForm,"fundingSource",e)},expression:"addOrganForm.fundingSource"}})],1)],1),a._v(" "),r("div",[r("el-form-item",{attrs:{label:"法律依据",prop:"legalBasis"}},[r("el-input",{model:{value:a.addOrganForm.legalBasis,callback:function(e){a.$set(a.addOrganForm,"legalBasis",e)},expression:"addOrganForm.legalBasis"}})],1)],1),a._v(" "),r("div",[r("el-form-item",{attrs:{label:"主要职权",prop:"mainPowers"}},[r("el-input",{model:{value:a.addOrganForm.mainPowers,callback:function(e){a.$set(a.addOrganForm,"mainPowers",e)},expression:"addOrganForm.mainPowers"}})],1)],1)])]),a._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){a.visible=!1}}},[a._v("取 消")]),a._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.addOrgan("addOrganForm")}}},[a._v("确 定")])],1)],1)},staticRenderFns:[]},n=r("VU/8")(t,o,!1,null,null,null);e.default=n.exports}});
//# sourceMappingURL=71.fc23fe592753ee2e6c6b.js.map
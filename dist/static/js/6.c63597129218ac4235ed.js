webpackJsonp([6],{"iS8/":function(e,t){},nM2Y:function(e,t){},yhCg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("0Emr"),s=a("zNBw"),r=a("dNZa"),o={data:function(){return{iconFile:"",backTitle:this.$t("app.createApp"),showWhiteListError:!1,iconName:""}},computed:{labelCol:function(){return"zh-CN"==i.a.get("play_lang")?{span:4}:{span:6}},wrapperCol:function(){return"zh-CN"==i.a.get("play_lang")?{span:20}:{span:18}},wrapperCol2:function(){return"zh-CN"==i.a.get("play_lang")?{span:20,offset:4}:{span:18,offset:6}},whiteList:{get:function(){return this.$store.state.whiteList},set:function(){}}},inject:["reload"],components:{addWhiteList:s.a,backSubMenu:r.a},methods:{back:function(){this.$router.push({name:"applist"})},tirggerFile:function(e){this.iconFile=e.target.files,this.iconName=this.iconFile[0].name,this.iconFile},submitInfor:function(e){var t=this;e.preventDefault();var a="";this.form.validateFields(function(e,i){if(t.whiteList,t.whiteList.length>=1?a=t.whiteList.join(";"):t.showWhiteListError=!0,!e&&(t.whiteList,i.tag&&(i.tag=i.tag.join(";")),!t.showWhiteListError)){var s={avatar:t.iconFile[0],name:i.name,callback:i.callback,message_check_token:i.message_check_token,message_encryption:i.message_encryption,white_list:a,tag:i.tag,description:i.description,website:i.website};t.$store.dispatch("addApp",s).then(function(e){t.reload()},function(e){})}})},handleChange:function(e){},addTag:function(){this.showWhiteListError=!1,this.$refs.addWhiteListRef.showModal()},closeWhiteListTag:function(e){this.$store.dispatch("reduceWhiteList",e)},createKey:function(){var e=this.$util.getRandomString(32);this.form.setFieldsValue({message_encryption:e})}},created:function(){}},l={render:function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"showContent appContent"},[i("backSubMenu",{attrs:{backTitle:t.backTitle,lineUnder:!0}}),t._v(" "),i("div",{staticClass:"box"},[i("p",{staticClass:"titleLine"},[t._v(t._s(t.$t("app.basicInformation")))]),t._v(" "),i("div",{staticClass:"appForm"},[i("a-form",{attrs:{autoFormCreate:function(t){e.form=t}},on:{submit:t.submitInfor}},[i("a-form-item",{attrs:{label:t.$t("app.icon"),fieldDecoratorId:"avatar",fieldDecoratorOptions:{},labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[i("a",{staticClass:"a-upload",attrs:{href:"javascript:;"}},[i("a-input",{attrs:{type:"file",id:"appIconfile"},on:{change:function(e){return t.tirggerFile(e)}}}),t._v("Upload a photo\n          ")],1),t._v(" "),i("span",{staticClass:"a-uploadName"},[t._v(t._s(t.iconName))])]),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.appName"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"name",fieldDecoratorOptions:{rules:[{required:!0,whitespace:!0,message:"please enter"}]}}},[i("a-input")],1),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.apptag"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"tag",fieldDecoratorOptions:{}}},[i("a-select",{attrs:{mode:"tags",placeholder:"Please enter"},on:{change:t.handleChange}})],1),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.appIntroduction"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"description",fieldDecoratorOptions:{}}},[i("a-textarea",{attrs:{autosize:""}})],1),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.officialWebsite"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"website",fieldDecoratorOptions:{}}},[i("a-input")],1),t._v(" "),i("p",{staticClass:"titleLine",attrs:{id:"editTitle2"}},[t._v(t._s(t.$t("app.applicationConfiguration")))]),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.messageVerificationToken"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"message_check_token",fieldDecoratorOptions:{rules:[{required:!0,whitespace:!0,message:"please enter"}]}}},[i("a-input")],1),t._v(" "),i("a-form-item",{staticClass:"formItemKey",attrs:{label:t.$t("app.messageEncryptionKey"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"message_encryption",fieldDecoratorOptions:{validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"please enter"},{pattern:/^[0-9a-zA-Z]{32}$/,message:"32位的字母数字组合"}]}}},[i("a-input"),i("span",{staticClass:"createKey",on:{click:t.createKey}},[t._v("点击生成")])],1),t._v(" "),i("a-form-item",{attrs:{label:t.$t("app.callbackURL"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"callback",fieldDecoratorOptions:{validateFirst:!0,rules:[{required:!0,whitespace:!0,message:"please enter"},{type:"url",message:"form error"}]}}},[i("a-input")],1),t._v(" "),i("a-form-item",{staticClass:"whiteFormItem",attrs:{label:t.$t("app.whiteList"),labelCol:t.labelCol,wrapperCol:t.wrapperCol,fieldDecoratorId:"white_list",fieldDecoratorOptions:{}}},[i("div",{staticClass:"whiteListStyle"},[t._l(t.whiteList,function(e,a){return i("a-tag",{key:e,attrs:{closable:""},on:{close:function(a){return t.closeWhiteListTag(e)}}},[t._v(t._s(e))])}),t._v(" "),i("span",{on:{click:t.addTag}},[i("i",{staticClass:"iconfont amd-add"})]),t._v(" "),t.showWhiteListError?i("p",[t._v("please add")]):t._e()],2)]),t._v(" "),i("a-form-item",{staticClass:"formCenter"},[i("a-button",{attrs:{type:"primary",htmlType:"submit"}},[t._v("Submit")])],1)],1)],1)]),t._v(" "),i("addWhiteList",{ref:"addWhiteListRef"})],1)},staticRenderFns:[]};var n=a("VU/8")(o,l,!1,function(e){a("iS8/")},null,null);t.default=n.exports},zNBw:function(e,t,a){"use strict";var i=a("Dd8w"),s=a.n(i),r=(a("0Emr"),a("NYxO")),o={data:function(){return{visible:!1,ip1:"",ip2:"",ip3:"",ip4:"",errorShow:!1}},computed:s()({},Object(r.b)(["whiteList"])),methods:{showModal:function(){this.errorShow=!1,this.ip1="",this.ip2="",this.ip3="",this.ip4="",this.visible=!0},hideModal:function(){this.visible=!1},getIp:function(){var e=this.ip1+"."+this.ip2+"."+this.ip3+"."+this.ip4;/^([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/.test(e)?(this.whiteList,this.whiteList.indexOf(e),this.whiteList.indexOf(e)>-1?this.$message.error("该IP地址已存在"):(this.$store.dispatch("addWhiteList",e),this.hideModal())):this.errorShow=!0}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{staticClass:"noformModel",attrs:{title:"Add whitelist",footer:null,closable:!1,destroyOnClose:!0},on:{ok:e.hideModal},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"ipAdressCon"},[a("div",{staticClass:"ipAdress"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ip1,expression:"ip1"}],attrs:{type:"text"},domProps:{value:e.ip1},on:{input:function(t){t.target.composing||(e.ip1=t.target.value)}}}),e._v(" "),a("span",[e._v(".")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ip2,expression:"ip2"}],attrs:{type:"text"},domProps:{value:e.ip2},on:{input:function(t){t.target.composing||(e.ip2=t.target.value)}}}),e._v(" "),a("span",[e._v(".")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ip3,expression:"ip3"}],attrs:{type:"text"},domProps:{value:e.ip3},on:{input:function(t){t.target.composing||(e.ip3=t.target.value)}}}),e._v(" "),a("span",[e._v(".")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ip4,expression:"ip4"}],attrs:{type:"text"},domProps:{value:e.ip4},on:{input:function(t){t.target.composing||(e.ip4=t.target.value)}}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.errorShow,expression:"errorShow"}]},[e._v("请输入正确的ip")])]),e._v(" "),a("p",{staticClass:"modelBtn"},[a("a-button",{attrs:{type:"primary"},on:{click:e.getIp}},[e._v("Add")])],1)])])],1)},staticRenderFns:[]};var n=a("VU/8")(o,l,!1,function(e){a("nM2Y")},null,null);t.a=n.exports}});
//# sourceMappingURL=6.c63597129218ac4235ed.js.map
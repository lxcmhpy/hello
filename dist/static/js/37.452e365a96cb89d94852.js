webpackJsonp([37],{G0cL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),n=s("JSML"),o=s("NYxO"),r=s("JHOU"),c={data:function(){return{routekey:["faceComparisonRequest","faceComparisonHistory;faceComparisonHistoryDetail"],loading:!1,historyKey:"app/v1/face/recognition/face-noun",dataSource:[],columns:[{title:"Face Comparison",dataIndex:"request",align:"center",scopedSlots:{customRender:"request"}},{title:"Similarity",dataIndex:"response",align:"center",scopedSlots:{customRender:"response"}},{title:"Upload Time",dataIndex:"created_at",align:"center",scopedSlots:{customRender:"created_at"}},{title:"Status",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"",dataIndex:"operation",align:"center",width:"50px",scopedSlots:{customRender:"operation"}}],serviceApiId:"",pagination:{pageSize:10}}},components:{requestAndHisSubMenu:n.a},mixins:[r.a],computed:i()({},Object(o.b)(["apiHistoryList","listPage"])),methods:{getImage:function(t){return"http://kotadata.oss-ap-southeast-5.aliyuncs.com"+t},getTime:function(t){return this.$util.timestampToDay(t)},selectHistory:function(t){this.$store.dispatch("changePage",this.pagination.current),this.$router.push({name:"faceComparisonHistoryDetail",params:{record:t}})},handleTableChange:function(t){this.pagination.current=t.current,this.getRequestlist(t.current)},ifGetData:function(){if(this.getApiListSuccess){var t=this.apiHistoryList[this.historyKey];this.serviceApiId=t._id,this.listPage?(this.pagination.current=Number(this.listPage),this.getRequestlist(this.listPage)):this.getRequestlist(1)}},getRequestlist:function(t){var e=this,s={serviceApiId:this.serviceApiId,page:t,pageSize:this.pageSize,showFullLoading:1==t};this.loading=!0,this.$store.dispatch("getLog",s).then(function(t){e.dataSource=t.data.data;var s=i()({},e.pagination);s.total=t.data.totalCount,e.loading=!1,e.pagination=s},function(t){})}},created:function(){this.getApiList()},watch:{getApiListSuccess:function(t,e){this.ifGetData()}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"showContent"},[s("requestAndHisSubMenu",{attrs:{routekey:t.routekey}}),t._v(" "),s("a-table",{staticClass:"newTable",attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(t._s(t.getTime(e)))]}},{key:"response",fn:function(e){return[s("span",[t._v(t._s(e.data.score?e.data.score:"--"))])]}},{key:"request",fn:function(e,a){return["success"==a.status?s("div",[s("div",{staticClass:"twoImgCell"},[s("img",{attrs:{src:t.getImage(e.image_file_1)}}),t._v(" "),s("img",{attrs:{src:t.getImage(e.image_file_2)}})])]):s("div",[t._v("--")])]}},{key:"status",fn:function(e){return[s("span",{staticClass:"statusSpan"},[s("span",{class:"success"==e?"greenDot":"redDot"},[s("i",{staticClass:"iconfont amd-dot"})]),t._v("\n          "+t._s(e)+"\n        ")])]}},{key:"operation",fn:function(e,a,i){return["success"==a.status?s("span",{staticClass:"historyDetail",on:{click:function(e){return t.selectHistory(a)}}},[s("i",{staticClass:"iconfont amd-arrows_right"})]):t._e()]}}])})],1)},staticRenderFns:[]},l=s("VU/8")(c,u,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=37.452e365a96cb89d94852.js.map
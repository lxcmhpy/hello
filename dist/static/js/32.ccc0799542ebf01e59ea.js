webpackJsonp([32],{LaCK:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("JSML"),o=s("NYxO"),r=(s("N+Om"),s("0Emr"),{data:function(){return{routekey:["checkPersonInfo","personInfoHistory"],history:[],columns:[{title:"ID number",dataIndex:"request.idNumber",align:"center",scopedSlots:{customRender:"id"}},{title:"Name",dataIndex:"request.name",align:"center",scopedSlots:{customRender:"name"}},{title:"Upload Time",dataIndex:"created_at",align:"center",scopedSlots:{customRender:"created_at"}},{title:"Status",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"",key:"action",align:"center",width:"50px",scopedSlots:{customRender:"operation"}}],historyKey:"app/v1/identity-check/check",serviceApiId:"",requestList:[],pagination:{pageSize:10},loading:!1}},mixins:[s("JHOU").a],computed:n()({},Object(o.b)(["apiHistoryList","listPage"])),components:{requestAndHisSubMenu:a.a},methods:{ifGetData:function(){if(this.getApiListSuccess){var t=this.apiHistoryList[this.historyKey];this.serviceApiId=t._id,this.listPage?(this.pagination.current=Number(this.listPage),this.getRequestlist(this.listPage)):this.getRequestlist(1)}},getRequestlist:function(t){var e=this,s={serviceApiId:this.serviceApiId,page:t,pageSize:this.pageSize,showFullLoading:1==t};this.loading=!0,this.$store.dispatch("getLog",s).then(function(t){e.requestList=t.data.data;var s=n()({},e.pagination);s.total=t.data.totalCount,e.loading=!1,e.pagination=s},function(t){})},handleTableChange:function(t){this.pagination.current=t.current,this.getRequestlist(t.current)},gotoDetail:function(t){this.$store.dispatch("changePage",this.pagination.current),this.$router.push({name:"personInfoHistoryDetail",params:{record:t}})}},created:function(){this.getApiList()},watch:{getApiListSuccess:function(t,e){this.ifGetData()}}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"showContent checkInfoContent"},[s("requestAndHisSubMenu",{attrs:{routekey:t.routekey}}),t._v(" "),s("div",{staticClass:"box"},[s("a-table",{attrs:{columns:t.columns,dataSource:t.requestList,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(t._s(t.$util.timestampToDay(e)))]}},{key:"status",fn:function(e){return[s("span",{staticClass:"statusSpan"},[s("span",{class:"success"==e?"greenDot":"redDot"},[s("i",{staticClass:"iconfont amd-dot"})]),t._v("\n        "+t._s(e)+"\n      ")])]}},{key:"operation",fn:function(e,i,n){return["success"==i.status?s("span",{staticClass:"historyDetail",on:{click:function(e){return t.gotoDetail(i)}}},[s("i",{staticClass:"iconfont amd-arrows_right"})]):t._e()]}}])})],1)],1)},staticRenderFns:[]},u=s("VU/8")(r,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=32.ccc0799542ebf01e59ea.js.map
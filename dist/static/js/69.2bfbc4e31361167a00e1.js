webpackJsonp([69],{u6zf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{visible:!1,menuData:[],defaultProps:{children:"children",label:"title"},roleId:""}},methods:{showModal:function(e){this.visible=!0,this.roleId=e},closeDialog:function(){this.visible=!1},getMenu:function(){var e=this;this.$store.dispatch("getTreePermission").then(function(t){e.menuData=t.data,e.getRoleBindMenu()},function(e){})},getRoleBindMenu:function(){var e=this;this.$store.dispatch("getRoleBindMenu",this.roleId).then(function(t){var n=[];t.data.forEach(function(e){n.push(e.permissionId)}),e.$refs.menuTree.setCheckedKeys(n)},function(e){})},bindMenu:function(){var e=this;this.$refs.menuTree.getCheckedKeys();var t={roleId:this.roleId,permissionIds:this.$refs.menuTree.getCheckedKeys()};this.$store.dispatch("roleBindMenu",t).then(function(t){e.visible=!1,e.$message({type:"success",message:"绑定成功"})},function(e){})},openDialog:function(){this.getMenu()}},created:function(){}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"绑定菜单",visible:e.visible,"close-on-click-modal":!1,width:"35%",top:"30px"},on:{"update:visible":function(t){e.visible=t},close:e.closeDialog,open:e.openDialog}},[n("div",[n("el-tree",{ref:"menuTree",attrs:{data:e.menuData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:e.defaultProps}})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.bindMenu()}}},[e._v("确 定")])],1)])},staticRenderFns:[]},o=n("VU/8")(i,s,!1,null,null,null);t.default=o.exports}});
//# sourceMappingURL=69.2bfbc4e31361167a00e1.js.map
webpackJsonp([31],{Di5S:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),n=i("JSML"),o=i("NYxO"),r=(i("N+Om"),i("0Emr"),{data:function(){return{routekey:["idCard","idCardHistory"],history:[],columns:[{title:"Face Comparison",dataIndex:"request.image_file",align:"center",scopedSlots:{customRender:"img"}},{title:"Upload Time",dataIndex:"created_at",align:"center",scopedSlots:{customRender:"created_at"}},{title:"Status",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"}},{title:"",key:"action",align:"center",width:"50px",scopedSlots:{customRender:"operation"}}],historyKey:"app/v1/ocr/recognition/indonesia-ktp",serviceApiId:"",requestList:[],pagination:{pageSize:10},loading:!1}},computed:a()({},Object(o.b)(["apiHistoryList","listPage"])),components:{requestAndHisSubMenu:n.a},methods:{getImage:function(t){return"http://kotadata.oss-ap-southeast-5.aliyuncs.com"+t},getApiList:function(){var t=this;this.$store.dispatch("getApiList",{}).then(function(e){var i=t.apiHistoryList[t.historyKey];t.serviceApiId=i._id,t.listPage?(t.listPage,t.pagination.current=Number(t.listPage),t.getRequestlist(t.listPage)):t.getRequestlist(1)},function(t){})},getRequestlist:function(t){var e=this,i={serviceApiId:this.serviceApiId,page:t,pageSize:this.pageSize,showFullLoading:1==t};this.loading=!0,this.$store.dispatch("getLog",i).then(function(t){e.requestList=t.data.data;var i=a()({},e.pagination);i.total=t.data.totalCount,e.loading=!1,e.pagination=i},function(t){})},handleTableChange:function(t){this.pagination.current=t.current,this.getRequestlist(t.current)},gotoDetail:function(t){this.$store.dispatch("changePage",this.pagination.current),this.$router.push({name:"idCardHistoryDetail",params:{record:t}})}},created:function(){this.getApiList()}}),c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"showContent"},[i("requestAndHisSubMenu",{attrs:{routekey:t.routekey}}),t._v(" "),i("div",{staticClass:"box"},[i("a-table",{attrs:{columns:t.columns,dataSource:t.requestList,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"img",fn:function(e){return[i("div",{staticClass:"ocrImgCell"},[i("img",{attrs:{src:t.getImage(e)}})])]}},{key:"created_at",fn:function(e){return[t._v(t._s(t.$util.timestampToDay(e)))]}},{key:"status",fn:function(e){return[i("span",{staticClass:"statusSpan"},[i("span",{class:"success"==e?"greenDot":"redDot"},[i("i",{staticClass:"iconfont amd-dot"})]),t._v("\n        "+t._s(e)+"\n      ")])]}},{key:"operation",fn:function(e,s,a){return["success"==s.status?i("span",{staticClass:"historyDetail",on:{click:function(e){return t.gotoDetail(s)}}},[i("i",{staticClass:"iconfont amd-arrows_right"})]):t._e()]}}])})],1)],1)},staticRenderFns:[]},u=i("VU/8")(r,c,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=31.c3146b59783772fed8fa.js.map
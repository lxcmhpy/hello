{"version":3,"sources":["webpack:///./src/js/validator.js","webpack:///src/page/sys/user-manage/addUser.vue","webpack:///./src/page/sys/user-manage/addUser.vue?5856","webpack:///./src/page/sys/user-manage/addUser.vue","webpack:///src/page/sys/user-manage/bindRole.vue","webpack:///./src/page/sys/user-manage/bindRole.vue?534b","webpack:///./src/page/sys/user-manage/bindRole.vue","webpack:///src/page/sys/user-manage/userManage.vue","webpack:///./src/page/sys/user-manage/userManage.vue?18d1","webpack:///./src/page/sys/user-manage/userManage.vue"],"names":["Vue","validatePhone","rule","value","callback","test","Error","validateIDNumber","addUser","data","_this","this","depss","visible","titleMap","addEquipment","editEquipment","dialogStatus","parentNode","getOrganList","departments","addUserForm","id","username","password","mobile","nickName","IDnumber","category","organId","organTitle","departmentId","departmentTitle","Provincial","Ministerial","Maritime","Other","rules","required","message","trigger","min","validator","$store","dispatch","then","response","catch","error","rowData","mounted","methods","showModal","_this2","$nextTick","$refs","resetFields","getCurrentOrganAndChild","closeDialog","handelEdit","parentNodeId","parentNodeName","userDeparment","_this3","res","err","getDepartment","data1","_this4","save","_this5","validate","valid","$message","showClose","type","$emit","resetForm","_this6","watch","val","user_manage_addUser","render","_vm","_h","$createElement","_c","_self","attrs","title","custom-class","top","width","close-on-click-modal","on","update:visible","$event","ref","staticClass","model","label-width","close","_v","label","prop","disabled","$$v","$set","expression","placeholder","change","_l","item","key","name","slot","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","bindRole","roleList","selectRoleList","userIds","inject","userIdList","getRoleList","bindRoleSure","join","roleIds","reload","findBindRole","userId","forEach","push","roleId","user_manage_bindRole","index","_s","ssrContext","userManage","filterText","tree","filter","formInline","enforceNo","searchType","selectCurrentTreeName","organData","defaultProps","children","tableData","departLevel","defaultExpandedKeys","currentPage","pageSize","totalPage","currentOrganId","selectUserIdList","components","filterNode","indexOf","handleNodeClick","getUserList","getAllOrgan","length","current","size","status","region","ipageList","total","userData1","records","userRoleData","userOtherInfoList","userItemRoles","userOrgan","item2","roleName","roleNames","handleSizeChange","handleCurrentChange","handleEdit","row","addUserRef","handleDelete","$confirm","confirmButtonText","cancelButtonText","Initialization","bindRoleRef","selectUser","created","user_manage_userManage","icon","props","node-key","default-expand-all","filter-node-method","node-click","scopedSlots","_u","fn","node","class","staticStyle","stripe","height","selection-change","align","scope","fixed","$index","current-page","background","page-sizes","layout","size-change","current-change","uploadaaa"],"mappings":"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","file":"static/js/44.d3c28b50037f0f99569d.js","sourcesContent":["//公用验证方法\nimport Vue from \"vue\";\nconst vm = new Vue();\n\n/* 是否是特殊字符*/\nexport function isSpecialChar(rule, value, callback) {\n    const reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+$/;\n    if (value.length > 0 && !reg.test(value)) {\n        return callback(new Error(\"不可输入特殊字符\"));\n    } else {\n        callback();\n    }\n}\n\n/** 验证是否整数 请输入整数 */\nexport function numType(rule, value, callback) {\n    var re = /^[1-9]([0-9])*$/;\n    if (!re.test(value)) {\n        callback(new Error('请输入整数'));\n    } else {\n        callback();\n    }\n}\n\n/* 是否是邮箱*/\nexport function validateEmail(rule, value, callback) {\n    var reg = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    if (!reg.test(value)) {\n        callback(new Error('邮箱'));\n    }\n    callback();\n}\n\n/**验证密码至少6位 */\nexport function validatePassLenght(rule, value, callback) {\n    if (value.length < 6) {\n        callback(new Error('changdu'));\n    } else if (value.length > 16) {\n        callback(new Error('changdu'));\n    }\n    callback();\n}\n\n/* 是否是邮箱*/\nexport function validateUrl(rule, value, callback) {\n  var reg = /^((ht|f)tps?):\\/\\/([\\w\\-]+(\\.[\\w\\-]+)*\\/)*[\\w\\-]+(\\.[\\w\\-]+)*\\/?(\\?([\\w\\-\\.,@?^=%&:\\/~\\+#]*)+)?/;\n  if (!reg.test(value)) {\n      callback(new Error('url格式错误'));\n  }\n  callback();\n}\n\n/* 是否是手机号 有值时验证*/\nexport function validatePhone(rule, value, callback) {\n    var reg = /^1(3|4|5|6|7|8)\\d{9}$/;\n    if (!reg.test(value) && value) {\n        callback(new Error('手机号格式错误'));\n    }\n    callback();\n  }\n\n/* 是否是身份证号码   有值时验证*/\nexport function validateIDNumber(rule, value, callback) {\n    var reg = /(^\\d{8}(0\\d|10|11|12)([0-2]\\d|30|31)\\d{3}$)|(^\\d{6}(18|19|20)\\d{2}(0\\d|10|11|12)([0-2]\\d|30|31)\\d{3}(\\d|X|x)$)/;\n    if (!reg.test(value) && value) {\n        callback(new Error('身份证格式错误'));\n    }\n    callback();\n  }\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/validator.js","<template>\n  <el-dialog\n    :title=\"titleMap[dialogStatus]\"\n    custom-class=\"leftDialog\"\n    :visible.sync=\"visible\"\n    top=\"0\"\n    width=\"40%\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form\n      :model=\"addUserForm\"\n      :rules=\"rules\"\n      ref=\"addUserForm\"\n      label-width=\"100px\"\n      class=\"addOrganClass\"\n      @close=\"closeDialog\"\n      :close-on-click-modal=\"false\"\n    >\n      <div class=\"part\">\n        <p class=\"titleP\">登录信息</p>\n        <div class=\"item\">\n          <el-form-item label=\"登录用户名\" prop=\"username\">\n            <el-input\n              ref=\"username\"\n              :disabled=\"dialogStatus === 'editEquipment'\"\n              v-model=\"addUserForm.username\"\n            ></el-input>\n          </el-form-item>\n        </div>\n        <!-- <div class=\"item\" v-if=\"dialogStatus === 'addEquipment'\">\n          <el-form-item label=\"初始密码\" prop=\"password\">\n            <el-input ref=\"password\" ></el-input>\n          </el-form-item>\n        </div>-->\n      </div>\n      <div class=\"part\">\n        <p class=\"titleP\">基本信息</p>\n        <div class=\"item\">\n          <el-form-item label=\"真实姓名\">\n            <el-input v-model=\"addUserForm.nickName\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"身份证号码\" prop=\"IDnumber\">\n            <el-input ref=\"IDnumber\" v-model=\"addUserForm.IDnumber\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"联系方式\" prop=\"mobile\">\n            <el-input ref=\"mobile\" v-model=\"addUserForm.mobile\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"执法门类\">\n            <el-input v-model=\"addUserForm.category\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"执法机构\" prop=\"organId\">\n            <!-- <el-input v-model=\"addUserForm.organTitle\"></el-input> -->\n            <el-select v-model=\"addUserForm.organId\" placeholder=\"请选择执法机构\" @change=\"getDepartment\">\n              <el-option\n                v-for=\"item in getOrganList\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"所属部门\" prop=\"departmentId\">\n            <el-select v-model=\"addUserForm.departmentId\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in departments\"\n                :key=\"item.id\"\n                :label=\"item.name\"\n                :value=\"item.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n      </div>\n      <div class=\"part\">\n        <p class=\"titleP\">证件信息</p>\n        <div class=\"item\">\n          <el-form-item label=\"省级证件号\">\n            <el-input v-model=\"addUserForm.Provincial\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"部级证件号\">\n            <el-input v-model=\"addUserForm.Ministerial\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"海事证件号\">\n            <el-input v-model=\"addUserForm.Maritime\"></el-input>\n          </el-form-item>\n        </div>\n        <div class=\"item\">\n          <el-form-item label=\"其他证件号\">\n            <el-input v-model=\"addUserForm.Other\"></el-input>\n          </el-form-item>\n        </div>\n      </div>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"resetForm\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"save\">保存</el-button>\n    </span>\n  </el-dialog>\n</template>\n<script>\nimport { validatePhone, validateIDNumber } from \"@/js/validator\";\nexport default {\n  data() {\n    // 判断用户名是否已存在\n    var validateUsername = (rule, value, callback) => {\n      this.$store\n        .dispatch(\"hasUsername\", value)\n        .then(response => {\n          callback();\n        })\n        .catch(error => {\n          callback('用户名重复');\n        });\n    };\n    return {\n      depss: [], //数据部门数据\n      visible: false,\n      //新增or编辑弹框标题(根据点击的新增or编辑按钮显示不同的标题)\n      titleMap: {\n        addEquipment: \"新增用户\",\n        editEquipment: \"编辑用户\"\n      },\n      //新增和编辑弹框标题\n      dialogStatus: \"\",\n      parentNode: \"\", //新增用户时默认的上级机构\n      getOrganList: [], //获取机构级下级机构\n      departments: [], //切换机构获取部门\n      addUserForm: {\n        id: \"\",\n        username: \"\",\n        password: \"123456\",\n        mobile: \"\",\n        nickName: \"\",\n        IDnumber: \"\",\n        category: \"\",\n        organId: \"\",\n        organTitle: \"\",\n        departmentId: \"\",\n        departmentTitle: \"\",\n        Provincial: \"\",\n        Ministerial: \"\",\n        Maritime: \"\",\n        Other: \"\"\n      },\n      rules: {\n        username: [\n          { required: true, message: \"请输入登录用户名\", trigger: \"blur\" },\n          { min: 6, message: \"长度大于6个字符\", trigger: \"blur\" },\n          { validator: validateUsername, trigger: \"blur\" },\n        ],\n        mobile: [{ validator: validatePhone, trigger: \"blur\" }],\n        organId: [{ required: true, message: \"请选择机构\", trigger: \"change\" }],\n        // departmentId: [\n        //   { required: true, message: \"请选择部门\", trigger: \"change\" }\n        // ],\n        IDnumber: [{ validator: validateIDNumber, trigger: \"blur\" }]\n      },\n      rowData:'',\n    };\n  },\n  mounted() {},\n\n  methods: {\n    //新增\n    showModal(data) {\n      //显示弹框\n      this.visible = true;\n      this.dialogStatus = \"addEquipment\";\n      //新增弹框标题\n      this.$nextTick(() => {\n        this.$refs[\"addUserForm\"].resetFields();\n      });\n      this.parentNode = data;\n      this.getCurrentOrganAndChild();\n    },\n    //关闭弹窗的时候清除数据\n    closeDialog() {\n      this.visible = false;\n      // this.$nextTick(() => {\n      //   this.$refs[\"addUserForm\"].resetFields();\n      // });\n      this.$refs[\"addUserForm\"].resetFields();\n    },\n    //编辑\n    handelEdit(data) {\n      console.log(data);\n      //显示弹框\n      this.visible = true;\n      //编辑弹框标题\n      this.dialogStatus = \"editEquipment\";\n      this.parentNode={\n        parentNodeId:data.organId,\n        parentNodeName:data.userDeparment\n      };\n      this.getCurrentOrganAndChild();\n      this.rowData = data;\n    },\n    //获取当前机构及其子机构\n    getCurrentOrganAndChild() {\n      this.$store.dispatch(\"getCurrentAndNextOrgan\",this.parentNode.parentNodeId).then(\n        res => {\n\n          console.log(res);\n          this.getOrganList = res.data;\n          // this.addUserForm = this.rowData;\n          //this.addUserForm.organId  = this.rowData.organId;\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    },\n    //获取选中的机构下的部门\n    getDepartment(data1) {\n      console.log(data1);\n      let data = {\n        organId: data1\n      };\n      console.log(\"获取选中的机构下的部门\", data);\n      this.$store.dispatch(\"getDepartmentsNoPage\", data).then(\n        res => {\n          console.log(\"部门数据\", res);\n          this.departments = res.data;\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    },\n    // 弹框保存\n    save() {\n      this.$refs[\"addUserForm\"].validate(valid => {\n        if (valid) {\n          if (this.dialogStatus === \"addEquipment\") {\n            console.log(\"this.addUserForm\", this.addUserForm);\n            this.$store\n              .dispatch(\"addUser\", this.addUserForm)\n              .then(res => {\n                this.$message({\n                  showClose: true,\n                  message: \"新增用户成功\",\n                  type: \"success\"\n                });\n                this.visible = false;\n                this.$emit(\"uploadaaa\", \"1\");\n              })\n              .catch(err => {\n                this.$message({\n                  showClose: true,\n                  message: err,\n                  type: \"error\"\n                });\n              });\n          } else if (this.dialogStatus === \"editEquipment\") {\n            console.log(this.addUserForm);\n            let data = {\n              id: this.addUserForm.id,\n              username: this.addUserForm.username,\n              mobile: this.addUserForm.mobile,\n              nickName: this.addUserForm.nickName,\n              IDnumber: this.addUserForm.IDnumber,\n              category: this.addUserForm.category,\n              organId: this.addUserForm.organId,\n              organTitle: this.addUserForm.organTitle,\n              departmentId: this.addUserForm.departmentId,\n              departmentTitle: this.addUserForm.departmentTitle,\n              Provincial: this.addUserForm.Provincial,\n              Ministerial: this.addUserForm.Ministerial,\n              Maritime: this.addUserForm.Maritime,\n              Other: this.addUserForm.Other\n            };\n            this.$store\n              .dispatch(\"updateUser\", this.addUserForm)\n              .then(res => {\n                this.$message({\n                  showClose: true,\n                  message: \"修改用户成功\",\n                  type: \"success\"\n                });\n                this.$emit(\"uploadaaa\");\n                this.visible = false;\n              })\n              .catch(err => {\n                this.$message({\n                  showClose: true,\n                  message: err,\n                  type: \"error\"\n                });\n              });\n          }\n        }\n      });\n    },\n    // 弹框取消按钮\n    resetForm() {\n      this.visible = false;\n      this.$nextTick(() => {\n        this.$refs[\"addUserForm\"].resetFields();\n      });\n    },\n    //失去焦点请求 名称是否重复\n    // blurName() {\n    //   if(this.addUserForm.name){\n    //     this.$store.dispatch(\"hasUsername\", this.addUserForm.name).then(\n    //     res => {\n    //       console.log(res);\n    //       if(res.data.id){\n    //         this.errorOrganName = true;\n    //       }else{\n    //         this.errorOrganName = false;\n    //       }\n    //     },\n    //     err => {\n    //       console.log(err);\n    //     }\n    //   );\n      \n    //   }\n    // },\n  },\n  watch: {\n    visible(val) {\n      if (val === false) {\n        this.addUserForm = {\n          id: \"\",\n          username: \"\",\n          password: \"\",\n          mobile: \"\",\n          nickName: \"\",\n          IDnumber: \"\",\n          category: \"\",\n          organId: \"\",\n          organTitle: \"\",\n          departmentId: \"\",\n          departmentTitle: \"\",\n          Provincial: \"\",\n          Ministerial: \"\",\n          Maritime: \"\",\n          Other: \"\"\n        };\n      }\n    }\n  }\n};\n</script>\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/page/sys/user-manage/addUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.titleMap[_vm.dialogStatus],\"custom-class\":\"leftDialog\",\"visible\":_vm.visible,\"top\":\"0\",\"width\":\"40%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"addUserForm\",staticClass:\"addOrganClass\",attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.rules,\"label-width\":\"100px\",\"close-on-click-modal\":false},on:{\"close\":_vm.closeDialog}},[_c('div',{staticClass:\"part\"},[_c('p',{staticClass:\"titleP\"},[_vm._v(\"登录信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"登录用户名\",\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"disabled\":_vm.dialogStatus === 'editEquipment'},model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"part\"},[_c('p',{staticClass:\"titleP\"},[_vm._v(\"基本信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"真实姓名\"}},[_c('el-input',{model:{value:(_vm.addUserForm.nickName),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"nickName\", $$v)},expression:\"addUserForm.nickName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"身份证号码\",\"prop\":\"IDnumber\"}},[_c('el-input',{ref:\"IDnumber\",model:{value:(_vm.addUserForm.IDnumber),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"IDnumber\", $$v)},expression:\"addUserForm.IDnumber\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"mobile\"}},[_c('el-input',{ref:\"mobile\",model:{value:(_vm.addUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"mobile\", $$v)},expression:\"addUserForm.mobile\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"执法门类\"}},[_c('el-input',{model:{value:(_vm.addUserForm.category),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"category\", $$v)},expression:\"addUserForm.category\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"执法机构\",\"prop\":\"organId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择执法机构\"},on:{\"change\":_vm.getDepartment},model:{value:(_vm.addUserForm.organId),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"organId\", $$v)},expression:\"addUserForm.organId\"}},_vm._l((_vm.getOrganList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"所属部门\",\"prop\":\"departmentId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addUserForm.departmentId),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"departmentId\", $$v)},expression:\"addUserForm.departmentId\"}},_vm._l((_vm.departments),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"part\"},[_c('p',{staticClass:\"titleP\"},[_vm._v(\"证件信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"省级证件号\"}},[_c('el-input',{model:{value:(_vm.addUserForm.Provincial),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"Provincial\", $$v)},expression:\"addUserForm.Provincial\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"部级证件号\"}},[_c('el-input',{model:{value:(_vm.addUserForm.Ministerial),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"Ministerial\", $$v)},expression:\"addUserForm.Ministerial\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"海事证件号\"}},[_c('el-input',{model:{value:(_vm.addUserForm.Maritime),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"Maritime\", $$v)},expression:\"addUserForm.Maritime\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('el-form-item',{attrs:{\"label\":\"其他证件号\"}},[_c('el-input',{model:{value:(_vm.addUserForm.Other),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"Other\", $$v)},expression:\"addUserForm.Other\"}})],1)],1)])]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55ef82b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/sys/user-manage/addUser.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55ef82b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/sys/user-manage/addUser.vue\n// module id = null\n// module chunks = ","<template>\n  <el-dialog\n    title=\"角色绑定\"\n    :visible.sync=\"visible\"\n    @close=\"closeDialog\"\n    :close-on-click-modal=\"false\"\n    width=\"35%\"\n  >\n    <el-checkbox-group v-model=\"selectRoleList\">\n      <el-checkbox v-for=\"(item,index) in roleList\" :key=\"index\" :label=\"item.id\">{{item.name}}</el-checkbox>\n    </el-checkbox-group>\n\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"visible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"bindRoleSure()\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      visible: false,\n      roleList: [],\n      selectRoleList: [], //选中的角色名列表\n      userIds: \"\"\n    };\n  },\n  inject: [\"reload\"],\n  methods: {\n    showModal(data) {\n      this.visible = true;\n      //   this.dictId = row.id;\n      //   this.dictName = row.name;\n      let organId = data.organId;\n      this.userIds = data.userIdList;\n      //this.userId = id;\n      this.getRoleList(organId);\n    },\n    //关闭弹窗的时候清除数据\n    closeDialog() {\n      this.visible = false;\n    },\n    //根据机构获取角色列表\n    getRoleList(organId) {\n      console.log(\"organId\",organId);\n      this.$store.dispatch(\"getOrganBindRole\",organId).then(\n        res => {\n          console.log(res.data);\n          this.roleList = res.data;\n          //this.findBindRole();\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    },\n    //绑定角色\n    bindRoleSure() {\n      let data = {\n        userIds: this.userIds.join(','),\n        roleIds: this.selectRoleList.join(\",\")\n      };\n\n      this.$store.dispatch(\"userBindRole\", data).then(\n        res => {\n          console.log(res);\n          this.$message({\n            showClose: true,\n            message: \"绑定成功\",\n            type: \"success\"\n          });\n          this.visible = false;\n          this.reload();\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    },\n    //查询绑定的角色\n    findBindRole(id) {\n      this.$store.dispatch(\"queryUserBindRole\", this.userId).then(\n        res => {\n          console.log(res);\n          res.data.forEach(item => {\n            this.selectRoleList.push(item.roleId);\n          });\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n@import \"../../../css/systemManage.less\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/sys/user-manage/bindRole.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"角色绑定\",\"visible\":_vm.visible,\"close-on-click-modal\":false,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.visible=$event},\"close\":_vm.closeDialog}},[_c('el-checkbox-group',{model:{value:(_vm.selectRoleList),callback:function ($$v) {_vm.selectRoleList=$$v},expression:\"selectRoleList\"}},_vm._l((_vm.roleList),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.bindRoleSure()}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49dbfd13\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/sys/user-manage/bindRole.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49dbfd13\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bindRole.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindRole.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindRole.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49dbfd13\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bindRole.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/sys/user-manage/bindRole.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"com_searchAndpageBoxPadding\">\n  <div class=\"fullBox departBox\" id=\"userBox\">\n    <div class=\"departOrUserTree\">\n      <p>机构列表</p>\n      <el-input placeholder=\"输入机构名\" v-model=\"filterText\">\n        <el-button slot=\"append\" size=\"mini\" icon=\"el-icon-search\"></el-button>\n      </el-input>\n      <div class=\"treeBox\">\n        <el-tree\n          class=\"filter-tree\"\n          :data=\"organData\"\n          :props=\"defaultProps\"\n          node-key=\"id\"\n          default-expand-all\n          :filter-node-method=\"filterNode\"\n          ref=\"tree\"\n          @node-click=\"handleNodeClick\"\n        >\n          <span class=\"custom-tree-node\" slot-scope=\"{ node,data }\">\n            <span>\n              <i :class=\"data.children ? 'iconfont law-icon_zhan_bag' : ''\"></i>\n              {{ node.label }}\n            </span>\n          </span>\n        </el-tree>\n      </div>\n    </div>\n    <div class=\"departTable\">\n      <el-form :model=\"formInline\" label-width=\"70px\">\n        <div class=\"userSearchPart\">\n          <div>\n            <el-form-item label=\"查询方法\">\n              <el-select v-model=\"formInline.searchType1\" placeholder=\"请选择\">\n                <el-option\n                  v-for=\"item in searchType\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </div>\n          <div>\n            <el-form-item label=\"用户名\">\n              <el-input v-model=\"formInline.username\"></el-input>\n            </el-form-item>\n          </div>\n          <div>\n            <el-form-item label=\"姓名\">\n              <el-input v-model=\"formInline.nickName\"></el-input>\n            </el-form-item>\n          </div>\n          <div>\n            <el-form-item label=\"证件号\">\n              <el-input v-model=\"formInline.enforceNo\"></el-input>\n            </el-form-item>\n          </div>\n          <div>\n            <el-form-item label=\"账户状态\">\n              <el-select v-model=\"formInline.region\" style=\"width:120px;\">\n                <el-option label=\"区域一\" value=\"shanghai\"></el-option>\n                <el-option label=\"区域二\" value=\"beijing\"></el-option>\n              </el-select>\n            </el-form-item>\n          </div>\n          <div>\n            <!-- <el-form-item> -->\n            <el-button type=\"primary\" size=\"medium\" icon=\"el-icon-search\" @click=\"getUserList\">查询</el-button>\n            <!-- </el-form-item> -->\n          </div>\n        </div>\n        <div class=\"userSearchPart\">\n          <div>\n            <el-button type=\"primary\" size=\"medium\" @click=\"addUser\">新增用户</el-button>\n            <el-button type=\"primary\" size=\"medium\" @click=\"bindRole\">角色绑定</el-button>\n          </div>\n          <div>\n            <el-form-item label=\"联系电话\">\n              <el-input v-model=\"formInline.mobile\"></el-input>\n            </el-form-item>\n          </div>\n          <!-- <p>{{selectCurrentTreeName}}</p> -->\n          <p>人员列表</p>\n        </div>\n      </el-form>\n\n      <el-table\n        :data=\"tableData\"\n        stripe\n        style=\"width: 100%\"\n        height=\"70%\"\n        @selection-change=\"selectUser\"\n      >\n        <el-table-column type=\"selection\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\n        <el-table-column prop=\"nickName\" label=\"姓名\"></el-table-column>\n        <el-table-column prop=\"enforceNo\" label=\"执法证号\"></el-table-column>\n        <el-table-column prop=\"mobile\" label=\"联系电话\"></el-table-column>\n        <el-table-column prop=\"roleNames\" label=\"角色\"></el-table-column>\n        <el-table-column prop=\"userOrgan\" label=\"所属机构\"></el-table-column>\n        <el-table-column prop=\"userDeparment\" label=\"所属部门\"></el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <div>{{scope.row.status === 0?'正常':scope.row.status === -1?'拉黑':'待激活'}}</div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"230\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">修改</el-button>\n            <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\n            <el-button size=\"mini\" @click=\"Initialization(scope.row)\">初始化</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"paginationBox\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          background\n          :page-sizes=\"[10, 20, 30, 40]\"\n          layout=\"prev, pager, next,sizes,jumper\"\n          :total=\"totalPage\"\n        ></el-pagination>\n      </div>\n    </div>\n\n    <addUser ref=\"addUserRef\" @uploadaaa=\"getUserList()\"></addUser>\n    <bindRole ref=\"bindRoleRef\"></bindRole>\n  </div>\n</div>\n</template>\n\n <script>\nimport addUser from \"./addUser\";\nimport bindRole from \"./bindRole\";\nexport default {\n  watch: {\n    filterText(val) {\n      this.$refs.tree.filter(val);\n    }\n  },\n  data() {\n    return {\n      formInline: {\n        nickName: \"\",\n        enforceNo: \"\",\n        username: \"\",\n        mobile: \"\"\n      },\n      searchType:[{value:0,label:'本机构'},{value:1,label:'本机构及子机构'}],\n      filterText: \"\",\n      selectCurrentTreeName: \"机构人员列表\",\n      organData: [],\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      tableData: [], //表格数据\n      departLevel: 0, //级别\n      defaultExpandedKeys: [], //默认展开的key\n      currentPage: 1, //当前页\n      pageSize: 10, //pagesize\n      totalPage: 0, //总数\n      departments: [], //机构下的部门\n      currentOrganId: \"\",\n      selectUserIdList: [] //选中的userid\n    };\n  },\n  components: {\n    addUser,\n    bindRole\n  },\n  methods: {\n    filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n\n    //点击树事件\n    handleNodeClick(data) {\n      console.log(data);\n      this.selectCurrentTreeName = data.label;\n      this.tableData = [];\n      this.currentOrganId = data.id;\n      console.log(this.currentOrganId);\n      this.getUserList();\n      // this.getDepartment();\n    },\n    //获取机构\n    getAllOrgan() {\n      this.$store.dispatch(\"getAllOrgan\").then(\n        res => {\n          console.log(\"机构\", res);\n\n          this.defaultExpandedKeys.push(res.data[0].id);\n          if (res.data[0].children && res.data[0].children.length > 0) {\n            res.data[0].children.forEach(item => {\n              this.defaultExpandedKeys.push(item.id);\n            });\n          }\n          this.organData = res.data;\n          console.log(this.defaultExpandedKeys);\n          console.log(this.organData);\n          this.currentOrganId = res.data[0].id;\n          this.selectCurrentTreeName = res.data[0].label;\n          this.getUserList();\n          //this.getDepartment();\n        },\n        err => {\n          console.log(err);\n        }\n      );\n    },\n    //表单筛选\n    getUserList() {\n      this.currentPage = 1;\n      let data = {\n        mobile: this.formInline.mobile,\n        username: this.formInline.username,\n        nickName: this.formInline.nickName,\n        enforceNo: this.formInline.enforceNo,\n        organId: this.currentOrganId,\n        current: this.currentPage,\n        size: this.pageSize,\n        status: this.formInline.region\n      };\n      console.log(\"用户\", data);\n      this.$store.dispatch(\"getUserList\", data).then(res => {\n        console.log(res);\n        this.totalPage = res.data.ipageList.total;\n        let userData1 = res.data.ipageList.records;\n        let userRoleData = res.data.userOtherInfoList;\n        userData1.forEach(item => {\n          let userItemRoles = []; //用户下的角色\n          let userDeparment = \"\"; //用户所在的部门\n          let userOrgan = \"\"; //用户所在的机构\n          userRoleData.forEach(item2 => {\n            if (item.id == item2.userId) {\n              userItemRoles.push(item2.roleName);\n              userDeparment = item2.departmentTitle;\n              userOrgan = item2.organTitle;\n            }\n          });\n          item.roleNames = userItemRoles.join(\",\");\n          item.userDeparment = userDeparment;\n          item.userOrgan = userOrgan;\n        });\n        console.log(\"userData1\", userData1);\n        this.tableData = userData1;\n      });\n      err => {\n        console.log(err);\n      };\n    },\n    //更改每页显示的条数\n    handleSizeChange(val) {\n      console.log(\"每页显示的条数\", val);\n      this.pageSize = val;\n      this.getUserList();\n    },\n    //更换页码\n    handleCurrentChange(val) {\n      console.log(\"当前页\", val);\n      this.currentPage = val;\n      this.getUserList();\n    },\n    // 表格编辑\n    handleEdit(index, row) {\n      this.$refs.addUserRef.handelEdit(row);\n      // this.$refs.addUserRef.addUserForm = JSON.parse(JSON.stringify(row));\n    },\n    // 表格id删除\n    handleDelete(row) {\n      this.$confirm(\"确认删除该用户?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$store.dispatch(\"getUserdelete\", row.id).then(\n            res => {\n              this.getAllOrgan(this.$refs.addUserRef.id);\n              this.$message({\n                type: \"success\",\n                message: \"删除成功!\"\n              });\n            },\n            err => {\n              console.log(err);\n            }\n          );\n        })\n        .catch(() => {});\n    },\n\n    // 密码初始化\n    Initialization(row) {\n      this.$confirm(\"确认初始化密码?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$store.dispatch(\"getUserreset\", row.id).then(\n            res => {\n              this.getAllOrgan(this.$refs.addUserRef.id);\n              this.$message({\n                type: \"success\",\n                message: \"密码初始化成功!\"\n              });\n            },\n            err => {\n              console.log(err);\n            }\n          );\n        })\n        .catch(() => {});\n    },\n\n    //新增机构\n    addUser() {\n      let parentNode = {\n        parentNodeId: this.currentOrganId,\n        parentNodeName: this.selectCurrentTreeName\n      };\n      this.$refs.addUserRef.showModal(parentNode);\n    },\n\n    //角色绑定\n    bindRole() {\n      if (this.selectUserIdList.length) {\n        let data = {\n          userIdList: this.selectUserIdList,\n          organId: this.currentOrganId\n        };\n        this.$refs.bindRoleRef.showModal(data);\n      } else {\n        this.$message(\"请选择用户\");\n      }\n    },\n    //获取选中的user\n    selectUser(val) {\n      console.log(val);\n      this.selectUserIdList = [];\n      val.forEach(item => {\n        this.selectUserIdList.push(item.id);\n        console.log(this.selectUserIdList);\n      });\n    }\n  },\n  mounted() {\n    // this.setDepartTable(this.data)\n  },\n  created() {\n    this.getAllOrgan();\n  }\n};\n</script>\n\n<style lang=\"less\">\n@import \"../../../css/systemManage.less\";\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/sys/user-manage/userManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"com_searchAndpageBoxPadding\"},[_c('div',{staticClass:\"fullBox departBox\",attrs:{\"id\":\"userBox\"}},[_c('div',{staticClass:\"departOrUserTree\"},[_c('p',[_vm._v(\"机构列表\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"输入机构名\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"size\":\"mini\",\"icon\":\"el-icon-search\"},slot:\"append\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"treeBox\"},[_c('el-tree',{ref:\"tree\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.organData,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"filter-node-method\":_vm.filterNode},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_c('i',{class:data.children ? 'iconfont law-icon_zhan_bag' : ''}),_vm._v(\"\\n              \"+_vm._s(node.label)+\"\\n            \")])])}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"departTable\"},[_c('el-form',{attrs:{\"model\":_vm.formInline,\"label-width\":\"70px\"}},[_c('div',{staticClass:\"userSearchPart\"},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"查询方法\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formInline.searchType1),callback:function ($$v) {_vm.$set(_vm.formInline, \"searchType1\", $$v)},expression:\"formInline.searchType1\"}},_vm._l((_vm.searchType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{model:{value:(_vm.formInline.username),callback:function ($$v) {_vm.$set(_vm.formInline, \"username\", $$v)},expression:\"formInline.username\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{model:{value:(_vm.formInline.nickName),callback:function ($$v) {_vm.$set(_vm.formInline, \"nickName\", $$v)},expression:\"formInline.nickName\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"证件号\"}},[_c('el-input',{model:{value:(_vm.formInline.enforceNo),callback:function ($$v) {_vm.$set(_vm.formInline, \"enforceNo\", $$v)},expression:\"formInline.enforceNo\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"账户状态\"}},[_c('el-select',{staticStyle:{\"width\":\"120px\"},model:{value:(_vm.formInline.region),callback:function ($$v) {_vm.$set(_vm.formInline, \"region\", $$v)},expression:\"formInline.region\"}},[_c('el-option',{attrs:{\"label\":\"区域一\",\"value\":\"shanghai\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"区域二\",\"value\":\"beijing\"}})],1)],1)],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"userSearchPart\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.addUser}},[_vm._v(\"新增用户\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.bindRole}},[_vm._v(\"角色绑定\")])],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"联系电话\"}},[_c('el-input',{model:{value:(_vm.formInline.mobile),callback:function ($$v) {_vm.$set(_vm.formInline, \"mobile\", $$v)},expression:\"formInline.mobile\"}})],1)],1),_vm._v(\" \"),_c('p',[_vm._v(\"人员列表\")])])]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"height\":\"70%\"},on:{\"selection-change\":_vm.selectUser}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"nickName\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"enforceNo\",\"label\":\"执法证号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"联系电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleNames\",\"label\":\"角色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userOrgan\",\"label\":\"所属机构\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userDeparment\",\"label\":\"所属部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.status === 0?'正常':scope.row.status === -1?'拉黑':'待激活'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.Initialization(scope.row)}}},[_vm._v(\"初始化\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"background\":\"\",\"page-sizes\":[10, 20, 30, 40],\"layout\":\"prev, pager, next,sizes,jumper\",\"total\":_vm.totalPage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_vm._v(\" \"),_c('addUser',{ref:\"addUserRef\",on:{\"uploadaaa\":function($event){return _vm.getUserList()}}}),_vm._v(\" \"),_c('bindRole',{ref:\"bindRoleRef\"})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c83da7c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/sys/user-manage/userManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c83da7c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c83da7c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/sys/user-manage/userManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}